{"ast":null,"code":"import React,{useState}from'react';// Lightweight editor for 4-week cycle: week13 (weeks 1 & 3) and week24 (weeks 2 & 4)\n// Allows editing common meals and per-day overrides.\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const dayKeys=['monday','tuesday','wednesday','thursday','friday','saturday','sunday'];const mealKeys=['breakfast','lunch','snacks','dinner'];function ensureStructure(cycle){if(!cycle)cycle={type:'4-week',startDate:'',weeks:{week13:{common:{},days:{}},week24:{common:{},days:{}}}};['week13','week24'].forEach(w=>{if(!cycle.weeks[w])cycle.weeks[w]={common:{},days:{}};mealKeys.forEach(m=>{if(cycle.weeks[w].common[m]===undefined)cycle.weeks[w].common[m]='';});dayKeys.forEach(d=>{if(!cycle.weeks[w].days[d])cycle.weeks[w].days[d]={};mealKeys.forEach(m=>{if(cycle.weeks[w].days[d][m]===undefined)cycle.weeks[w].days[d][m]='';});});});return JSON.parse(JSON.stringify(cycle));}const MenuEditorModal=_ref=>{let{value,onSave,onClose}=_ref;const[cycle,setCycle]=useState(()=>ensureStructure(value));function updateCommon(week,meal,val){setCycle(c=>{const n=ensureStructure(c);n.weeks[week].common[meal]=val;return n;});}function updateDay(week,day,meal,val){setCycle(c=>{const n=ensureStructure(c);n.weeks[week].days[day][meal]=val;return n;});}function handleSave(){onSave(cycle);}return/*#__PURE__*/_jsx(\"div\",{className:\"modal-backdrop\",role:\"dialog\",\"aria-modal\":\"true\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal large\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Edit Menu Cycle\"}),/*#__PURE__*/_jsx(\"button\",{className:\"icon-btn\",onClick:onClose,children:\"\\u2715\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'1rem',flexWrap:'wrap'},children:['week13','week24'].map(week=>/*#__PURE__*/_jsxs(\"div\",{style:{flex:'1 1 420px',minWidth:360},children:[/*#__PURE__*/_jsxs(\"h4\",{style:{margin:'8px 0'},children:[week==='week13'?'Week 1 & 3':'Week 2 & 4',\" - Common\"]}),mealKeys.map(meal=>/*#__PURE__*/_jsxs(\"div\",{className:\"field-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:meal}),/*#__PURE__*/_jsx(\"textarea\",{rows:2,value:cycle.weeks[week].common[meal],onChange:e=>updateCommon(week,meal,e.target.value)})]},meal)),/*#__PURE__*/_jsxs(\"details\",{style:{marginTop:8},children:[/*#__PURE__*/_jsx(\"summary\",{children:\"Per-day overrides\"}),dayKeys.map(day=>/*#__PURE__*/_jsxs(\"div\",{className:\"day-edit-block\",children:[/*#__PURE__*/_jsx(\"strong\",{style:{textTransform:'capitalize'},children:day}),mealKeys.map(meal=>/*#__PURE__*/_jsxs(\"div\",{className:\"field-row small\",children:[/*#__PURE__*/_jsx(\"label\",{children:meal}),/*#__PURE__*/_jsx(\"textarea\",{rows:2,placeholder:\"(inherit common if blank)\",value:cycle.weeks[week].days[day][meal],onChange:e=>updateDay(week,day,meal,e.target.value)})]},meal))]},day))]})]},week))}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:onClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"primary-btn\",onClick:handleSave,children:\"Save\"})]})]})});};export default MenuEditorModal;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","dayKeys","mealKeys","ensureStructure","cycle","type","startDate","weeks","week13","common","days","week24","forEach","w","m","undefined","d","JSON","parse","stringify","MenuEditorModal","_ref","value","onSave","onClose","setCycle","updateCommon","week","meal","val","c","n","updateDay","day","handleSave","className","role","children","onClick","style","display","gap","flexWrap","map","flex","minWidth","margin","rows","onChange","e","target","marginTop","textTransform","placeholder"],"sources":["/home/chakri/Documents/Projects/Website/src/components/MenuEditorModal.js"],"sourcesContent":["import React, { useState } from 'react';\n\n// Lightweight editor for 4-week cycle: week13 (weeks 1 & 3) and week24 (weeks 2 & 4)\n// Allows editing common meals and per-day overrides.\nconst dayKeys = ['monday','tuesday','wednesday','thursday','friday','saturday','sunday'];\nconst mealKeys = ['breakfast','lunch','snacks','dinner'];\n\nfunction ensureStructure(cycle){\n  if(!cycle) cycle = { type:'4-week', startDate:'', weeks:{ week13:{common:{},days:{}}, week24:{common:{},days:{}} } };\n  ['week13','week24'].forEach(w=>{\n    if(!cycle.weeks[w]) cycle.weeks[w]={common:{},days:{}};\n    mealKeys.forEach(m=>{ if(cycle.weeks[w].common[m]===undefined) cycle.weeks[w].common[m]=''; });\n    dayKeys.forEach(d=>{\n      if(!cycle.weeks[w].days[d]) cycle.weeks[w].days[d]={};\n      mealKeys.forEach(m=>{ if(cycle.weeks[w].days[d][m]===undefined) cycle.weeks[w].days[d][m]=''; });\n    });\n  });\n  return JSON.parse(JSON.stringify(cycle));\n}\n\nconst MenuEditorModal = ({ value, onSave, onClose }) => {\n  const [cycle,setCycle] = useState(()=>ensureStructure(value));\n\n  function updateCommon(week, meal, val){\n    setCycle(c=>{ const n=ensureStructure(c); n.weeks[week].common[meal]=val; return n; });\n  }\n  function updateDay(week, day, meal, val){\n    setCycle(c=>{ const n=ensureStructure(c); n.weeks[week].days[day][meal]=val; return n; });\n  }\n\n  function handleSave(){\n    onSave(cycle);\n  }\n\n  return (\n    <div className=\"modal-backdrop\" role=\"dialog\" aria-modal=\"true\">\n      <div className=\"modal large\">\n        <div className=\"modal-header\">\n          <h3>Edit Menu Cycle</h3>\n          <button className=\"icon-btn\" onClick={onClose}>âœ•</button>\n        </div>\n        <div style={{display:'flex', gap:'1rem', flexWrap:'wrap'}}>\n          {['week13','week24'].map(week => (\n            <div key={week} style={{flex:'1 1 420px', minWidth:360}}>\n              <h4 style={{margin:'8px 0'}}>{week==='week13'?'Week 1 & 3':'Week 2 & 4'} - Common</h4>\n              {mealKeys.map(meal => (\n                <div key={meal} className=\"field-row\">\n                  <label>{meal}</label>\n                  <textarea rows={2} value={cycle.weeks[week].common[meal]} onChange={e=>updateCommon(week,meal,e.target.value)} />\n                </div>\n              ))}\n              <details style={{marginTop:8}}>\n                <summary>Per-day overrides</summary>\n                {dayKeys.map(day => (\n                  <div key={day} className=\"day-edit-block\">\n                    <strong style={{textTransform:'capitalize'}}>{day}</strong>\n                    {mealKeys.map(meal => (\n                      <div key={meal} className=\"field-row small\">\n                        <label>{meal}</label>\n                        <textarea rows={2} placeholder=\"(inherit common if blank)\" value={cycle.weeks[week].days[day][meal]} onChange={e=>updateDay(week,day,meal,e.target.value)} />\n                      </div>\n                    ))}\n                  </div>\n                ))}\n              </details>\n            </div>\n          ))}\n        </div>\n        <div className=\"modal-footer\">\n          <button className=\"secondary-btn\" onClick={onClose}>Cancel</button>\n          <button className=\"primary-btn\" onClick={handleSave}>Save</button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MenuEditorModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}