{"ast":null,"code":"var _jsxFileName = \"/home/chakri/Documents/Projects/Website/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport './App.css';\nimport MessMenu from './components/MessMenu';\nimport CampusBus from './components/CampusBus';\nimport SimpleDataPanel from './components/SimpleDataPanel';\nimport MenuEditorModal from './components/MenuEditorModal';\nimport BusEditorModal from './components/BusEditorModal';\nimport { loadData, saveData } from './utils/storage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DEFAULT_PREFERENCES = {\n  hidePastTimes: true,\n  countdown: true,\n  holidayOverride: 'auto' // auto | working | saturday | sunday\n};\n\n// DEFAULT_DATA is intentionally minimal; real data loaded from public/data/*.json\nconst DEFAULT_DATA = {\n  menu: {\n    breakfast: '',\n    lunch: '',\n    snacks: '',\n    dinner: ''\n  },\n  menuCycle: null,\n  buses: {\n    routes: [],\n    // fallback if weekly or multi not loaded\n    week: {\n      startDate: null,\n      days: []\n    },\n    multi: null,\n    specials: null\n  },\n  preferences: {\n    ...DEFAULT_PREFERENCES\n  }\n};\nclass RootErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null\n    };\n  }\n  static getDerivedStateFromError(err) {\n    return {\n      error: err\n    };\n  }\n  componentDidCatch(err, info) {\n    // eslint-disable-next-line no-console\n    console.error('App runtime error:', err, info);\n  }\n  render() {\n    if (this.state.error) {\n      var _this$state$error;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '1rem',\n          fontFamily: 'sans-serif'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Something went wrong.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n          style: {\n            whiteSpace: 'pre-wrap',\n            background: '#222',\n            color: '#fff',\n            padding: '8px',\n            borderRadius: 4,\n            maxHeight: 300,\n            overflow: 'auto'\n          },\n          children: String(((_this$state$error = this.state.error) === null || _this$state$error === void 0 ? void 0 : _this$state$error.message) || this.state.error)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            localStorage.clear();\n            window.location.reload();\n          },\n          children: \"Clear Data & Reload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this);\n    }\n    return this.props.children;\n  }\n}\nfunction AppInner() {\n  _s();\n  const [data, setData] = useState(() => {\n    const loaded = loadData();\n    if (!loaded) return DEFAULT_DATA;\n    // Defensive normalization for older localStorage versions\n    const norm = {\n      ...DEFAULT_DATA,\n      ...loaded\n    };\n    norm.preferences = {\n      ...DEFAULT_PREFERENCES,\n      ...(loaded.preferences || {})\n    };\n    // Ensure menuCycle shape or null\n    if (norm.menuCycle && (!norm.menuCycle.type || !norm.menuCycle.weeks)) {\n      norm.menuCycle = null; // fallback if malformed\n    }\n    // Buses\n    const lb = loaded.buses || {};\n    norm.buses = {\n      routes: Array.isArray(lb.routes) ? lb.routes : [],\n      week: lb.week && Array.isArray(lb.week.days) ? lb.week : {\n        startDate: null,\n        days: []\n      },\n      multi: lb.multi || null,\n      specials: lb.specials || null\n    };\n    return norm;\n  });\n  const [isImportOpen, setImportOpen] = useState(false);\n  const [showMenuEditor, setShowMenuEditor] = useState(false);\n  const [showBusEditor, setShowBusEditor] = useState(false);\n  const [notification, setNotification] = useState(null);\n  const [viewMode, setViewMode] = useState('today'); // 'today' | 'tomorrow'\n  const [now, setNow] = useState(() => new Date());\n\n  // Real-time clock (minute resolution) to refresh UI (next bus highlight, day rollover)\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setNow(new Date());\n    }, 60000); // 1 minute\n    return () => clearInterval(interval);\n  }, []);\n  useEffect(() => {\n    saveData(data);\n  }, [data]);\n\n  // Initial fetch of external JSON (only if not already persisted)\n  useEffect(() => {\n    var _persisted$buses;\n    let cancelled = false;\n    async function loadExternal() {\n      try {\n        // Fetch menu cycle\n        const menuResp = await fetch('/data/menuCycle.json');\n        if (menuResp.ok) {\n          const menuJson = await menuResp.json();\n          if (!cancelled) {\n            setData(d => {\n              var _menuJson$menuCycle;\n              // preserve any user-pasted overrides in localStorage\n              if (d.menuCycle) return d; // already have cycle (user updated)\n              const cycleStart = menuJson.startDate || ((_menuJson$menuCycle = menuJson.menuCycle) === null || _menuJson$menuCycle === void 0 ? void 0 : _menuJson$menuCycle.startDate) || null;\n              // Derive today's menu for immediate display\n              let derivedMenu = d.menu;\n              try {\n                if (menuJson && cycleStart) {\n                  const tmpCycle = menuJson.type ? menuJson : menuJson.menuCycle;\n                  const todayDerived = getMenuForDate(tmpCycle, new Date());\n                  if (todayDerived) derivedMenu = todayDerived;\n                }\n              } catch {}\n              return {\n                ...d,\n                menu: derivedMenu,\n                menuCycle: menuJson\n              };\n            });\n          }\n        }\n      } catch {}\n      try {\n        // Fetch bus schedule\n        const busResp = await fetch('/data/busSchedule.json');\n        if (busResp.ok) {\n          const busJson = await busResp.json();\n          if (!cancelled) {\n            setData(d => {\n              if (d.buses.multi) return d; // already have custom\n              const multi = busJson.categories || null;\n              return {\n                ...d,\n                buses: {\n                  ...d.buses,\n                  multi,\n                  specials: busJson.specials || null\n                }\n              };\n            });\n          }\n        }\n      } catch {}\n    }\n    // Only load if no persisted data (first visit) or missing pieces\n    const persisted = loadData();\n    if (!persisted || !persisted.menuCycle || !((_persisted$buses = persisted.buses) !== null && _persisted$buses !== void 0 && _persisted$buses.multi)) {\n      loadExternal();\n    }\n    return () => {\n      cancelled = true;\n    };\n  }, []);\n\n  // Use 'now' for current time reference\n  const today = now;\n  const dateOptions = {\n    weekday: 'short',\n    day: '2-digit',\n    month: 'short',\n    year: 'numeric'\n  };\n  const formattedDate = today.toLocaleDateString('en-US', dateOptions);\n  function getMenuForDate(cycle, date) {\n    const start = new Date(cycle.startDate + 'T00:00:00');\n    const diffDays = Math.floor((date - start) / 86400000);\n    if (diffDays < 0) return null;\n    const weekNum = Math.floor(diffDays / 7) % 4;\n    const dayOfWeek = date.getDay();\n    const weekType = weekNum === 0 || weekNum === 2 ? 'week13' : 'week24';\n    const weekData = cycle.weeks[weekType];\n    if (!weekData) return null;\n    const dayNames = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n    const dayName = dayNames[dayOfWeek];\n    const dayMenu = weekData.days[dayName];\n    const common = weekData.common || {};\n    return {\n      breakfast: (dayMenu === null || dayMenu === void 0 ? void 0 : dayMenu.breakfast) || common.breakfast || '',\n      lunch: (dayMenu === null || dayMenu === void 0 ? void 0 : dayMenu.lunch) || common.lunch || '',\n      snacks: (dayMenu === null || dayMenu === void 0 ? void 0 : dayMenu.snacks) || common.snacks || '',\n      dinner: (dayMenu === null || dayMenu === void 0 ? void 0 : dayMenu.dinner) || common.dinner || ''\n    };\n  }\n\n  // Derive today's menu from 4-week cycle if available\n  const todayMenu = useMemo(() => {\n    const cycle = data.menuCycle;\n    if (!cycle || !cycle.startDate || cycle.type !== '4-week' || !cycle.weeks) return data.menu;\n    try {\n      const targetDate = viewMode === 'tomorrow' ? new Date(today.getTime() + 86400000) : today;\n      return getMenuForDate(cycle, targetDate) || data.menu;\n    } catch {\n      return data.menu;\n    }\n  }, [data.menuCycle, data.menu, today, viewMode]);\n  const menuCycleMeta = useMemo(() => {\n    const cycle = data.menuCycle;\n    if (!cycle || !cycle.startDate || cycle.type !== '4-week') return null;\n    const targetDate = viewMode === 'tomorrow' ? new Date(today.getTime() + 86400000) : today;\n    const start = new Date(cycle.startDate + 'T00:00:00');\n    const diffDays = Math.floor((targetDate - start) / 86400000);\n    if (diffDays < 0) return null;\n    const weekNum = Math.floor(diffDays / 7) % 4;\n    const dayOfWeek = targetDate.getDay(); // 0=Sun, 1=Mon, ...\n    const weekType = weekNum === 0 || weekNum === 2 ? 'week13' : 'week24';\n    return {\n      weekType,\n      dayOfWeek,\n      weekNum: weekNum + 1\n    };\n  }, [data.menuCycle, today, viewMode]);\n\n  // Derive today's bus schedule from week (7-day) if available\n  const todayBusRoutes = useMemo(() => {\n    const week = data.buses.week;\n    if (!week || !week.startDate || !Array.isArray(week.days) || week.days.length !== 7) return data.buses.routes;\n    try {\n      const targetDate = viewMode === 'tomorrow' ? new Date(today.getTime() + 86400000) : today;\n      const start = new Date(week.startDate + 'T00:00:00');\n      const diffDays = Math.floor((targetDate - start) / 86400000);\n      if (diffDays < 0) return data.buses.routes;\n      const idx = diffDays % 7; // 0..6\n      const dayObj = week.days[idx];\n      if (!dayObj || !dayObj.routes) return data.buses.routes;\n      return [{\n        route: 'Nila → Sahyadri',\n        times: dayObj.routes['Nila → Sahyadri'] || []\n      }, {\n        route: 'Sahyadri → Nila',\n        times: dayObj.routes['Sahyadri → Nila'] || []\n      }];\n    } catch {\n      return data.buses.routes;\n    }\n  }, [data.buses.week, data.buses.routes, today, viewMode]);\n  function handlePrefToggle(key) {\n    setData(d => ({\n      ...d,\n      preferences: {\n        ...d.preferences,\n        [key]: !d.preferences[key]\n      }\n    }));\n  }\n  function handleHolidayOverride(e) {\n    const value = e.target.value;\n    setData(d => ({\n      ...d,\n      preferences: {\n        ...d.preferences,\n        holidayOverride: value\n      }\n    }));\n  }\n  function exportData() {\n    try {\n      const blob = new Blob([JSON.stringify(data, null, 2)], {\n        type: 'application/json'\n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = 'campus-dashboard-data.json';\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n    } catch {}\n  }\n  function updateMenuCycleStartDate(e) {\n    const val = e.target.value || null;\n    setData(d => ({\n      ...d,\n      menuCycle: {\n        ...d.menuCycle,\n        startDate: val\n      }\n    }));\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [notification && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"notification\",\n      children: notification\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: viewMode === 'today' ? `Today (${formattedDate})` : `Tomorrow (${new Date(today.getTime() + 86400000).toLocaleDateString('en-US', dateOptions)})`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"ghost-btn\",\n            onClick: () => setData(DEFAULT_DATA),\n            title: \"Restore defaults\",\n            children: \"Reset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"ghost-btn\",\n            onClick: exportData,\n            title: \"Download JSON\",\n            children: \"Export\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"update-btn\",\n            onClick: () => setImportOpen(true),\n            children: \"Paste Import\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"update-btn\",\n            onClick: () => setShowMenuEditor(true),\n            children: \"Edit Menu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"update-btn\",\n            onClick: () => setShowBusEditor(true),\n            children: \"Edit Buses\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"day-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `day-tab ${viewMode === 'today' ? 'active' : ''}`,\n          onClick: () => setViewMode('today'),\n          children: \"Today\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `day-tab ${viewMode === 'tomorrow' ? 'active' : ''}`,\n          onClick: () => setViewMode('tomorrow'),\n          children: \"Tomorrow\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"prefs-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pref-group\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"switch\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: data.preferences.hidePastTimes,\n            onChange: () => handlePrefToggle('hidePastTimes')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Hide Past Bus Times\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pref-group\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"switch\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: data.preferences.countdown,\n            onChange: () => handlePrefToggle('countdown')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Show Countdown\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pref-group\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Holiday Mode:\\xA0\", /*#__PURE__*/_jsxDEV(\"select\", {\n            value: data.preferences.holidayOverride,\n            onChange: handleHolidayOverride,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"auto\",\n              children: \"Auto\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"working\",\n              children: \"Working\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"saturday\",\n              children: \"Saturday\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"sunday\",\n              children: \"Sunday\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), data.menuCycle && data.menuCycle.type === '4-week' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pref-group\",\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Cycle Start:\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: data.menuCycle.startDate || '',\n            onChange: updateMenuCycleStartDate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: [/*#__PURE__*/_jsxDEV(MessMenu, {\n        menu: todayMenu,\n        cycleMeta: menuCycleMeta\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CampusBus, {\n        routes: todayBusRoutes,\n        multi: data.buses.multi,\n        specials: data.buses.specials,\n        hidePastTimes: data.preferences.hidePastTimes,\n        holidayOverride: data.preferences.holidayOverride,\n        showCountdown: data.preferences.countdown,\n        dayOffset: viewMode === 'tomorrow' ? 1 : 0,\n        now: now\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this), isImportOpen && /*#__PURE__*/_jsxDEV(SimpleDataPanel, {\n      onClose: () => setImportOpen(false),\n      onSave: newData => {\n        setData(newData);\n        setImportOpen(false);\n        setNotification('Data updated successfully!');\n        setTimeout(() => setNotification(null), 3000);\n      },\n      currentData: data\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 9\n    }, this), showMenuEditor && /*#__PURE__*/_jsxDEV(MenuEditorModal, {\n      value: data.menuCycle,\n      onClose: () => setShowMenuEditor(false),\n      onSave: cycle => {\n        setData(d => ({\n          ...d,\n          menuCycle: cycle\n        }));\n        setShowMenuEditor(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 9\n    }, this), showBusEditor && /*#__PURE__*/_jsxDEV(BusEditorModal, {\n      value: data.buses.multi,\n      specials: data.buses.specials,\n      onClose: () => setShowBusEditor(false),\n      onSave: ({\n        multi,\n        specials\n      }) => {\n        setData(d => ({\n          ...d,\n          buses: {\n            ...d.buses,\n            multi,\n            specials\n          }\n        }));\n        setShowBusEditor(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 245,\n    columnNumber: 5\n  }, this);\n}\n_s(AppInner, \"jUS3f9t0ws+uXtfNt6LaYZH4A8k=\");\n_c = AppInner;\nexport default function App() {\n  return /*#__PURE__*/_jsxDEV(RootErrorBoundary, {\n    children: /*#__PURE__*/_jsxDEV(AppInner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 364,\n    columnNumber: 5\n  }, this);\n}\n_c2 = App;\nvar _c, _c2;\n$RefreshReg$(_c, \"AppInner\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","MessMenu","CampusBus","SimpleDataPanel","MenuEditorModal","BusEditorModal","loadData","saveData","jsxDEV","_jsxDEV","DEFAULT_PREFERENCES","hidePastTimes","countdown","holidayOverride","DEFAULT_DATA","menu","breakfast","lunch","snacks","dinner","menuCycle","buses","routes","week","startDate","days","multi","specials","preferences","RootErrorBoundary","Component","constructor","props","state","error","getDerivedStateFromError","err","componentDidCatch","info","console","render","_this$state$error","style","padding","fontFamily","children","fileName","_jsxFileName","lineNumber","columnNumber","whiteSpace","background","color","borderRadius","maxHeight","overflow","String","message","onClick","localStorage","clear","window","location","reload","AppInner","_s","data","setData","loaded","norm","type","weeks","lb","Array","isArray","isImportOpen","setImportOpen","showMenuEditor","setShowMenuEditor","showBusEditor","setShowBusEditor","notification","setNotification","viewMode","setViewMode","now","setNow","Date","interval","setInterval","clearInterval","_persisted$buses","cancelled","loadExternal","menuResp","fetch","ok","menuJson","json","d","_menuJson$menuCycle","cycleStart","derivedMenu","tmpCycle","todayDerived","getMenuForDate","busResp","busJson","categories","persisted","today","dateOptions","weekday","day","month","year","formattedDate","toLocaleDateString","cycle","date","start","diffDays","Math","floor","weekNum","dayOfWeek","getDay","weekType","weekData","dayNames","dayName","dayMenu","common","todayMenu","targetDate","getTime","menuCycleMeta","todayBusRoutes","length","idx","dayObj","route","times","handlePrefToggle","key","handleHolidayOverride","e","value","target","exportData","blob","Blob","JSON","stringify","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","updateMenuCycleStartDate","val","className","title","checked","onChange","cycleMeta","showCountdown","dayOffset","onClose","onSave","newData","setTimeout","currentData","_c","App","_c2","$RefreshReg$"],"sources":["/home/chakri/Documents/Projects/Website/src/App.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport './App.css';\nimport MessMenu from './components/MessMenu';\nimport CampusBus from './components/CampusBus';\nimport SimpleDataPanel from './components/SimpleDataPanel';\nimport MenuEditorModal from './components/MenuEditorModal';\nimport BusEditorModal from './components/BusEditorModal';\nimport { loadData, saveData } from './utils/storage';\n\nconst DEFAULT_PREFERENCES = {\n  hidePastTimes: true,\n  countdown: true,\n  holidayOverride: 'auto' // auto | working | saturday | sunday\n};\n\n// DEFAULT_DATA is intentionally minimal; real data loaded from public/data/*.json\nconst DEFAULT_DATA = {\n  menu: { breakfast: '', lunch: '', snacks: '', dinner: '' },\n  menuCycle: null,\n  buses: {\n    routes: [], // fallback if weekly or multi not loaded\n    week: { startDate: null, days: [] },\n    multi: null,\n    specials: null\n  },\n  preferences: { ...DEFAULT_PREFERENCES }\n};\n\nclass RootErrorBoundary extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = { error:null };\n  }\n  static getDerivedStateFromError(err){\n    return { error: err };\n  }\n  componentDidCatch(err, info){\n    // eslint-disable-next-line no-console\n    console.error('App runtime error:', err, info);\n  }\n  render(){\n    if(this.state.error){\n      return (\n        <div style={{padding:'1rem', fontFamily:'sans-serif'}}>\n          <h2>Something went wrong.</h2>\n          <pre style={{whiteSpace:'pre-wrap', background:'#222', color:'#fff', padding:'8px', borderRadius:4, maxHeight:300, overflow:'auto'}}>{String(this.state.error?.message || this.state.error)}</pre>\n          <button onClick={()=>{localStorage.clear(); window.location.reload();}}>Clear Data & Reload</button>\n        </div>\n      );\n    }\n    return this.props.children;\n  }\n}\n\nfunction AppInner() {\n  const [data, setData] = useState(() => {\n    const loaded = loadData();\n    if (!loaded) return DEFAULT_DATA;\n    // Defensive normalization for older localStorage versions\n    const norm = { ...DEFAULT_DATA, ...loaded };\n    norm.preferences = { ...DEFAULT_PREFERENCES, ...(loaded.preferences || {}) };\n    // Ensure menuCycle shape or null\n    if (norm.menuCycle && (!norm.menuCycle.type || !norm.menuCycle.weeks)) {\n      norm.menuCycle = null; // fallback if malformed\n    }\n    // Buses\n    const lb = loaded.buses || {};\n    norm.buses = {\n      routes: Array.isArray(lb.routes) ? lb.routes : [],\n      week: lb.week && Array.isArray(lb.week.days) ? lb.week : { startDate: null, days: [] },\n      multi: lb.multi || null,\n      specials: lb.specials || null\n    };\n    return norm;\n  });\n  const [isImportOpen, setImportOpen] = useState(false);\n  const [showMenuEditor, setShowMenuEditor] = useState(false);\n  const [showBusEditor, setShowBusEditor] = useState(false);\n  const [notification, setNotification] = useState(null);\n  const [viewMode, setViewMode] = useState('today'); // 'today' | 'tomorrow'\n  const [now, setNow] = useState(() => new Date());\n\n  // Real-time clock (minute resolution) to refresh UI (next bus highlight, day rollover)\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setNow(new Date());\n    }, 60000); // 1 minute\n    return () => clearInterval(interval);\n  }, []);\n\n  useEffect(() => {\n    saveData(data);\n  }, [data]);\n\n  // Initial fetch of external JSON (only if not already persisted)\n  useEffect(() => {\n    let cancelled = false;\n    async function loadExternal() {\n      try {\n        // Fetch menu cycle\n        const menuResp = await fetch('/data/menuCycle.json');\n        if (menuResp.ok) {\n          const menuJson = await menuResp.json();\n          if (!cancelled) {\n            setData(d => {\n              // preserve any user-pasted overrides in localStorage\n              if (d.menuCycle) return d; // already have cycle (user updated)\n              const cycleStart = menuJson.startDate || menuJson.menuCycle?.startDate || null;\n              // Derive today's menu for immediate display\n              let derivedMenu = d.menu;\n              try {\n                if (menuJson && cycleStart) {\n                  const tmpCycle = menuJson.type ? menuJson : menuJson.menuCycle;\n                  const todayDerived = getMenuForDate(tmpCycle, new Date());\n                  if (todayDerived) derivedMenu = todayDerived;\n                }\n              } catch {}\n              return { ...d, menu: derivedMenu, menuCycle: menuJson };\n            });\n          }\n        }\n      } catch {}\n      try {\n        // Fetch bus schedule\n        const busResp = await fetch('/data/busSchedule.json');\n        if (busResp.ok) {\n          const busJson = await busResp.json();\n          if (!cancelled) {\n            setData(d => {\n              if (d.buses.multi) return d; // already have custom\n              const multi = busJson.categories || null;\n              return { ...d, buses: { ...d.buses, multi, specials: busJson.specials || null } };\n            });\n          }\n        }\n      } catch {}\n    }\n    // Only load if no persisted data (first visit) or missing pieces\n    const persisted = loadData();\n    if (!persisted || !persisted.menuCycle || !persisted.buses?.multi) {\n      loadExternal();\n    }\n    return () => { cancelled = true; };\n  }, []);\n\n  // Use 'now' for current time reference\n  const today = now;\n  const dateOptions = { weekday: 'short', day: '2-digit', month: 'short', year: 'numeric' };\n  const formattedDate = today.toLocaleDateString('en-US', dateOptions);\n\n  function getMenuForDate(cycle, date) {\n    const start = new Date(cycle.startDate + 'T00:00:00');\n    const diffDays = Math.floor((date - start) / 86400000);\n    if (diffDays < 0) return null;\n    const weekNum = Math.floor(diffDays / 7) % 4;\n    const dayOfWeek = date.getDay();\n    const weekType = (weekNum === 0 || weekNum === 2) ? 'week13' : 'week24';\n    const weekData = cycle.weeks[weekType];\n    if (!weekData) return null;\n    \n    const dayNames = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n    const dayName = dayNames[dayOfWeek];\n    const dayMenu = weekData.days[dayName];\n    const common = weekData.common || {};\n    \n    return {\n      breakfast: dayMenu?.breakfast || common.breakfast || '',\n      lunch: dayMenu?.lunch || common.lunch || '',\n      snacks: dayMenu?.snacks || common.snacks || '',\n      dinner: dayMenu?.dinner || common.dinner || ''\n    };\n  }\n\n  // Derive today's menu from 4-week cycle if available\n  const todayMenu = useMemo(() => {\n    const cycle = data.menuCycle;\n    if (!cycle || !cycle.startDate || cycle.type !== '4-week' || !cycle.weeks) return data.menu;\n    try {\n      const targetDate = viewMode === 'tomorrow' ? new Date(today.getTime() + 86400000) : today;\n      return getMenuForDate(cycle, targetDate) || data.menu;\n    } catch { return data.menu; }\n  }, [data.menuCycle, data.menu, today, viewMode]);\n\n  const menuCycleMeta = useMemo(() => {\n    const cycle = data.menuCycle;\n    if (!cycle || !cycle.startDate || cycle.type !== '4-week') return null;\n    const targetDate = viewMode === 'tomorrow' ? new Date(today.getTime() + 86400000) : today;\n    const start = new Date(cycle.startDate + 'T00:00:00');\n    const diffDays = Math.floor((targetDate - start) / 86400000);\n    if (diffDays < 0) return null;\n    const weekNum = Math.floor(diffDays / 7) % 4;\n    const dayOfWeek = targetDate.getDay(); // 0=Sun, 1=Mon, ...\n    const weekType = (weekNum === 0 || weekNum === 2) ? 'week13' : 'week24';\n    return { weekType, dayOfWeek, weekNum: weekNum + 1 };\n  }, [data.menuCycle, today, viewMode]);\n\n  // Derive today's bus schedule from week (7-day) if available\n  const todayBusRoutes = useMemo(() => {\n    const week = data.buses.week;\n    if (!week || !week.startDate || !Array.isArray(week.days) || week.days.length !== 7) return data.buses.routes;\n    try {\n      const targetDate = viewMode === 'tomorrow' ? new Date(today.getTime() + 86400000) : today;\n      const start = new Date(week.startDate + 'T00:00:00');\n      const diffDays = Math.floor((targetDate - start) / 86400000);\n      if (diffDays < 0) return data.buses.routes;\n      const idx = diffDays % 7; // 0..6\n      const dayObj = week.days[idx];\n      if (!dayObj || !dayObj.routes) return data.buses.routes;\n      return [\n        { route: 'Nila → Sahyadri', times: dayObj.routes['Nila → Sahyadri'] || [] },\n        { route: 'Sahyadri → Nila', times: dayObj.routes['Sahyadri → Nila'] || [] }\n      ];\n    } catch { return data.buses.routes; }\n  }, [data.buses.week, data.buses.routes, today, viewMode]);\n\n  function handlePrefToggle(key) {\n    setData(d => ({ ...d, preferences: { ...d.preferences, [key]: !d.preferences[key] }}));\n  }\n\n  function handleHolidayOverride(e) {\n    const value = e.target.value;\n    setData(d => ({ ...d, preferences: { ...d.preferences, holidayOverride: value }}));\n  }\n\n  function exportData() {\n    try {\n      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = 'campus-dashboard-data.json';\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n    } catch {}\n  }\n\n  function updateMenuCycleStartDate(e) {\n    const val = e.target.value || null;\n    setData(d => ({ ...d, menuCycle: { ...d.menuCycle, startDate: val }}));\n  }\n\n  return (\n    <div className=\"App\">\n      {notification && (\n        <div className=\"notification\">\n          {notification}\n        </div>\n      )}\n      \n      <header className=\"app-header\">\n        <div className=\"header-row\">\n          <h1>{viewMode === 'today' ? `Today (${formattedDate})` : `Tomorrow (${new Date(today.getTime() + 86400000).toLocaleDateString('en-US', dateOptions)})`}</h1>\n          <div className=\"header-actions\">\n            <button className=\"ghost-btn\" onClick={() => setData(DEFAULT_DATA)} title=\"Restore defaults\">Reset</button>\n            <button className=\"ghost-btn\" onClick={exportData} title=\"Download JSON\">Export</button>\n            <button className=\"update-btn\" onClick={() => setImportOpen(true)}>Paste Import</button>\n            <button className=\"update-btn\" onClick={() => setShowMenuEditor(true)}>Edit Menu</button>\n            <button className=\"update-btn\" onClick={() => setShowBusEditor(true)}>Edit Buses</button>\n          </div>\n        </div>\n        <div className=\"day-tabs\">\n          <button \n            className={`day-tab ${viewMode === 'today' ? 'active' : ''}`}\n            onClick={() => setViewMode('today')}\n          >\n            Today\n          </button>\n          <button \n            className={`day-tab ${viewMode === 'tomorrow' ? 'active' : ''}`}\n            onClick={() => setViewMode('tomorrow')}\n          >\n            Tomorrow\n          </button>\n        </div>\n      </header>\n\n      <div className=\"prefs-bar\">\n        <div className=\"pref-group\">\n          <label className=\"switch\">\n            <input type=\"checkbox\" checked={data.preferences.hidePastTimes} onChange={() => handlePrefToggle('hidePastTimes')} />\n            <span>Hide Past Bus Times</span>\n          </label>\n        </div>\n        <div className=\"pref-group\">\n          <label className=\"switch\">\n            <input type=\"checkbox\" checked={data.preferences.countdown} onChange={() => handlePrefToggle('countdown')} />\n            <span>Show Countdown</span>\n          </label>\n        </div>\n        <div className=\"pref-group\">\n          <label>Holiday Mode:&nbsp;\n            <select value={data.preferences.holidayOverride} onChange={handleHolidayOverride}>\n              <option value=\"auto\">Auto</option>\n              <option value=\"working\">Working</option>\n              <option value=\"saturday\">Saturday</option>\n              <option value=\"sunday\">Sunday</option>\n            </select>\n          </label>\n        </div>\n        {data.menuCycle && data.menuCycle.type === '4-week' && (\n          <div className=\"pref-group\">\n            <label>Cycle Start:&nbsp;\n              <input type=\"date\" value={data.menuCycle.startDate || ''} onChange={updateMenuCycleStartDate} />\n            </label>\n          </div>\n        )}\n      </div>\n\n      <div className=\"main-content\">\n        <MessMenu menu={todayMenu} cycleMeta={menuCycleMeta} />\n        <CampusBus \n          routes={todayBusRoutes}\n          multi={data.buses.multi} \n          specials={data.buses.specials}\n          hidePastTimes={data.preferences.hidePastTimes}\n            holidayOverride={data.preferences.holidayOverride}\n          showCountdown={data.preferences.countdown}\n          dayOffset={viewMode === 'tomorrow' ? 1 : 0}\n          now={now}\n        />\n      </div>\n\n      {isImportOpen && (\n        <SimpleDataPanel\n          onClose={() => setImportOpen(false)}\n          onSave={(newData) => {\n            setData(newData);\n            setImportOpen(false);\n            setNotification('Data updated successfully!');\n            setTimeout(() => setNotification(null), 3000);\n          }}\n          currentData={data}\n        />\n      )}\n      {showMenuEditor && (\n        <MenuEditorModal\n          value={data.menuCycle}\n          onClose={()=>setShowMenuEditor(false)}\n          onSave={(cycle)=>{\n            setData(d=>({ ...d, menuCycle: cycle }));\n            setShowMenuEditor(false);\n          }}\n        />\n      )}\n      {showBusEditor && (\n        <BusEditorModal\n          value={data.buses.multi}\n            specials={data.buses.specials}\n          onClose={()=>setShowBusEditor(false)}\n          onSave={({multi,specials})=>{\n            setData(d=>({ ...d, buses:{ ...d.buses, multi, specials }}));\n            setShowBusEditor(false);\n          }}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default function App(){\n  return (\n    <RootErrorBoundary>\n      <AppInner />\n    </RootErrorBoundary>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}