{"ast":null,"code":"var _jsxFileName = \"/home/chakri/Documents/Projects/Website/src/components/SimpleDataPanel.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { parseMultiCategoryBusText } from '../utils/busParser';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SimpleDataPanel = ({\n  onClose,\n  onSave,\n  currentData\n}) => {\n  _s();\n  const [rawText, setRawText] = useState('');\n  const [error, setError] = useState('');\n  const handleSave = () => {\n    if (!rawText.trim()) {\n      setError('Please paste some data first');\n      return;\n    }\n    try {\n      const {\n        menu,\n        menuCycle,\n        busWeek,\n        busesFallback\n      } = parseAll(rawText, currentData);\n      const newData = {\n        ...currentData,\n        menu: menu,\n        menuCycle: menuCycle || currentData.menuCycle,\n        buses: {\n          ...currentData.buses,\n          ...(busWeek ? {\n            week: busWeek\n          } : {}),\n          ...(busesFallback !== null && busesFallback !== void 0 && busesFallback.routes ? {\n            routes: busesFallback.routes\n          } : {}),\n          ...(busesFallback !== null && busesFallback !== void 0 && busesFallback.specials ? {\n            specials: busesFallback.specials\n          } : {})\n        }\n      };\n      onSave(newData);\n    } catch (err) {\n      setError(err.message || 'Could not parse the data. Please check the format.');\n    }\n  };\n\n  // --- Parsing Helpers ---\n  const extractMealDataSimple = (lines, mealType) => {\n    const line = lines.find(l => l.toLowerCase().startsWith(mealType + ':'));\n    return line ? line.split(':').slice(1).join(':').trim() : '';\n  };\n  function parseAll(text, current) {\n    const linesRaw = text.split(/\\r?\\n/);\n    const lines = linesRaw.map(l => l.trim());\n    const nonEmpty = lines.filter(Boolean);\n    const hasMenuCycle = /START MENU CYCLE:/i.test(text);\n    const hasBusWeek = /START BUS WEEK:/i.test(text);\n    const hasMultiCategory = /working days/i.test(text) && /saturdays/i.test(text) && /sundays/i.test(text);\n    const has4WeekMenu = /week 1 and 3/i.test(text) && /week 2 and 4/i.test(text);\n    let menu = {\n      ...current.menu\n    };\n    let menuCycle = null;\n    let busWeek = null;\n    let busesFallback = null;\n\n    // 1. Menu Cycle\n    if (has4WeekMenu) {\n      var _menuCycle;\n      menuCycle = parse4WeekMenu(lines);\n      // Set today's menu as preview\n      if ((_menuCycle = menuCycle) !== null && _menuCycle !== void 0 && _menuCycle.weeks) {\n        const todayMenu = getCurrentMenuFrom4Week(menuCycle);\n        if (todayMenu) menu = todayMenu;\n      }\n    } else if (hasMenuCycle) {\n      menuCycle = parseMenuCycle(lines);\n      if (menuCycle.days && menuCycle.days.length === 14) {\n        menu = {\n          ...menuCycle.days[0]\n        };\n      }\n    } else {\n      // simple single-day menu extraction fallback\n      menu = {\n        breakfast: extractMealDataSimple(nonEmpty.map(l => l.toLowerCase()), 'breakfast') || menu.breakfast,\n        lunch: extractMealDataSimple(nonEmpty.map(l => l.toLowerCase()), 'lunch') || menu.lunch,\n        snacks: extractMealDataSimple(nonEmpty.map(l => l.toLowerCase()), 'snacks') || menu.snacks,\n        dinner: extractMealDataSimple(nonEmpty.map(l => l.toLowerCase()), 'dinner') || menu.dinner\n      };\n    }\n\n    // 2. Bus data (priority: multi-category > week > simple)\n    if (hasMultiCategory) {\n      var _advanced$categories$, _advanced$categories$2, _advanced$categories$3;\n      const advanced = parseMultiCategoryBusText(text);\n      // Map advanced categories to a synthetic 7-day week (Mon-Fri working, Sat saturday, Sun sunday)\n      const weekStart = deriveNearestMondayISO();\n      const working = ((_advanced$categories$ = advanced.categories.working) === null || _advanced$categories$ === void 0 ? void 0 : _advanced$categories$.routes) || {\n        'Nila → Sahyadri': [],\n        'Sahyadri → Nila': []\n      };\n      const sat = ((_advanced$categories$2 = advanced.categories.saturday) === null || _advanced$categories$2 === void 0 ? void 0 : _advanced$categories$2.routes) || working;\n      const sun = ((_advanced$categories$3 = advanced.categories.sunday) === null || _advanced$categories$3 === void 0 ? void 0 : _advanced$categories$3.routes) || working;\n      const dayTemplate = r => ({\n        routes: {\n          'Nila → Sahyadri': r['Nila → Sahyadri'] || [],\n          'Sahyadri → Nila': r['Sahyadri → Nila'] || []\n        }\n      });\n      busWeek = {\n        startDate: weekStart,\n        days: [dayTemplate(working), dayTemplate(working), dayTemplate(working), dayTemplate(working), dayTemplate(working), dayTemplate(sat), dayTemplate(sun)]\n      };\n      busesFallback = {\n        specials: advanced.specials\n      };\n    } else if (hasBusWeek) {\n      busWeek = parseBusWeek(lines);\n    } else {\n      const simpleBus = parseSimpleBus(nonEmpty);\n      if (simpleBus.routes.length) {\n        busesFallback = {\n          routes: simpleBus.routes\n        };\n      }\n    }\n    return {\n      menu,\n      menuCycle,\n      busWeek,\n      busesFallback\n    };\n  }\n  function parseMenuCycle(lines) {\n    const startIdx = lines.findIndex(l => /START MENU CYCLE:/i.test(l));\n    const endIdx = lines.findIndex(l => /END MENU CYCLE/i.test(l));\n    if (startIdx === -1 || endIdx === -1 || endIdx <= startIdx) throw new Error('Menu cycle block malformed');\n    const header = lines[startIdx];\n    const dateMatch = header.match(/START MENU CYCLE:\\s*(\\d{4}-\\d{2}-\\d{2})/i);\n    if (!dateMatch) throw new Error('Menu cycle start date missing (YYYY-MM-DD)');\n    const startDate = dateMatch[1];\n    const block = lines.slice(startIdx + 1, endIdx).filter(Boolean);\n    const dayRegex = /^Day\\s*(\\d{1,2})\\s+(Breakfast|Lunch|Snacks|Dinner)\\s*:\\s*(.+)$/i;\n    const days = Array.from({\n      length: 14\n    }, () => ({\n      breakfast: '',\n      lunch: '',\n      snacks: '',\n      dinner: ''\n    }));\n    block.forEach(line => {\n      const m = line.match(dayRegex);\n      if (m) {\n        const dayNum = parseInt(m[1], 10);\n        if (dayNum >= 1 && dayNum <= 14) {\n          const mealType = m[2].toLowerCase();\n          const value = m[3].trim();\n          days[dayNum - 1][mealType] = value;\n        }\n      }\n    });\n    return {\n      startDate,\n      days\n    };\n  }\n  function parseBusWeek(lines) {\n    const startIdx = lines.findIndex(l => /START BUS WEEK:/i.test(l));\n    const endIdx = lines.findIndex(l => /END BUS WEEK/i.test(l));\n    if (startIdx === -1 || endIdx === -1 || endIdx <= startIdx) throw new Error('Bus week block malformed');\n    const header = lines[startIdx];\n    const dateMatch = header.match(/START BUS WEEK:\\s*(\\d{4}-\\d{2}-\\d{2})/i);\n    if (!dateMatch) throw new Error('Bus week start date missing (YYYY-MM-DD)');\n    const startDate = dateMatch[1];\n    const block = lines.slice(startIdx + 1, endIdx).filter(Boolean);\n    const dayMap = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\n    const routeRegex = /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun)\\s+(Nila\\s*→?\\s*Sahyadri|Sahyadri\\s*→?\\s*Nila)\\s*:\\s*(.+)$/i;\n    const days = dayMap.map(() => ({\n      routes: {\n        'Nila → Sahyadri': [],\n        'Sahyadri → Nila': []\n      }\n    }));\n    block.forEach(line => {\n      const m = line.match(routeRegex);\n      if (m) {\n        const dayIdx = dayMap.findIndex(d => d.toLowerCase() === m[1].toLowerCase());\n        const routeRaw = m[2];\n        const normRoute = /sahyadri/i.test(routeRaw) && /nila/i.test(routeRaw) && /sahyadri/i.test(routeRaw.split(/→|to|:/i)[0]) ? 'Sahyadri → Nila' : /sahyadri/i.test(routeRaw) && /nila/i.test(routeRaw) ? routeRaw.toLowerCase().startsWith('nila') ? 'Nila → Sahyadri' : 'Sahyadri → Nila' : routeRaw;\n        const timesStr = m[3];\n        const times = timesStr.split(/[,\\s]+/).map(t => t.trim()).filter(Boolean).map(normalizeTimeToken);\n        if (dayIdx >= 0) {\n          days[dayIdx].routes[normRoute] = times;\n        }\n      }\n    });\n    return {\n      startDate,\n      days\n    };\n  }\n  function normalizeTimeToken(t) {\n    let x = t.replace(/\\./g, ':');\n    if (/^\\d{1,2}$/.test(x)) x = x + ':00';\n    if (/^\\d{1,2}:\\d{1}$/.test(x)) {\n      const [h, m] = x.split(':');\n      x = h + ':' + m.padStart(2, '0');\n    }\n    return x;\n  }\n  function parseSimpleBus(lines) {\n    const routes = [];\n    lines.forEach(line => {\n      if (line.includes('→') || line.includes('->')) {\n        const parts = line.split(':');\n        if (parts.length >= 2) {\n          const route = parts[0].trim().replace('->', '→');\n          const times = parts.slice(1).join(':').split(',').map(t => t.trim()).filter(Boolean);\n          if (times.length) routes.push({\n            route,\n            times\n          });\n        }\n      }\n    });\n    return {\n      routes\n    };\n  }\n  function deriveNearestMondayISO() {\n    const d = new Date();\n    const day = d.getDay(); // 0 Sun ... 6 Sat\n    const diff = day === 1 ? 0 : day === 0 ? -6 : 1 - day; // move back to Monday\n    const monday = new Date(d.getFullYear(), d.getMonth(), d.getDate() + diff);\n    return monday.toISOString().slice(0, 10);\n  }\n  function parse4WeekMenu(lines) {\n    // Parse table-like structure from your image\n    const menuData = {\n      type: '4-week',\n      startDate: deriveNearestMondayISO(),\n      // Default to current week\n      weeks: {\n        week13: {\n          common: {},\n          days: {}\n        },\n        week24: {\n          common: {},\n          days: {}\n        }\n      }\n    };\n\n    // Set sample data based on your image - you can replace this with actual parsing\n    menuData.weeks.week13 = {\n      common: {\n        breakfast: 'bread, butter, jam, milk, tea, coffee, sprouts/chana, seasonal fruit',\n        lunch: 'Pickle, papad, mix salad, Onion, White rice, Lemon, Ghee',\n        snacks: 'tea, coffee, sugar',\n        dinner: 'Appalam, Mixed Salad, Pickle (Mango/Chili/Mix)'\n      },\n      days: {\n        monday: {\n          breakfast: 'Aloo paratha, Ketchup, Curd, Non-Veg: Boiled Egg Veg: Pineapple, Mint & Coriander Chutney',\n          lunch: 'Puri, Chana masala, Toor dal fry, Mix veg curry, Seasonal fruit (watermelon), Kerala rice, curd & sugar',\n          snacks: 'Instant noodles, Tomato ketchup',\n          dinner: 'Veg: Mutter Paneer Masala, Non-Veg: Egg Gravy, White Rice, Chana dal tadka, Chapati, Makkan Peda'\n        },\n        tuesday: {\n          lunch: 'Payar dry, sambar, Aloo Gobhi curry, Fresh Fruit Juice, Kerala rice, Chapathi',\n          snacks: 'Fresh fruit salad, Lemon juice, (No milk, coffee and tea)',\n          dinner: 'Arhar Dal tadka, Aloo 65, Kadhi Pakoda White rice, Chapati, kheer'\n        },\n        wednesday: {\n          breakfast: 'Masala Dosa, Tomato Chutney, Sambar, Non-Veg: Boiled Egg; Veg: Banana, peanut butter',\n          lunch: 'Baigan masala, Sambar, cabbage tomato curry, chapathi, Kerala rice, spiced buttermilk',\n          snacks: 'Masala Channa',\n          dinner: 'Veg: Hyderabadi Paneer Dish, Non-Veg: Hyderabadi Style Chicken masala, white rice, Moong dal, Lachcha Paratha, Laddu, Lemon'\n        },\n        thursday: {\n          breakfast: 'Puri, Semi-dry black Chana masala, Non-Veg: Omelette; Veg: Pineapple',\n          lunch: 'Soya Masala, Rasam, Tomato rice, Onion Raita, Palak Chapati',\n          snacks: 'Tikki chat',\n          dinner: 'Bisi bele bath, Yam with chana dry, chapathi, aloo matar curry, Rasam, White rice, Icecream'\n        },\n        friday: {\n          breakfast: 'Idly, Vada, sambar, coconut chutney, Non-veg: Boiled Egg, Veg: Banana',\n          lunch: 'Rajma masala, Bottle Guard Sambar, Kerala rice, Phulka, Minty Buttermilk',\n          snacks: 'Pungulu with coconut chutney',\n          dinner: 'Non Veg: Chicken Gravy; Veg: Paneer Butter masala, pulao, Mix dal, Chapathi, Kesar(Rawa), mango pickle, Lemon'\n        },\n        saturday: {\n          breakfast: 'Gobi Mix Veg Paratha, Green Coriander chutney, Peanut Butter, Non Veg: Boiled Egg; Veg: Musk Melon',\n          lunch: 'Drum Stick Tomato gravy, Dal Makhni, Fried aloo, Phulka, Rasam, curd & sugar',\n          snacks: 'Mirchi bajji, Chutney, Cold Coffee',\n          dinner: 'Dal makhani, Aviyai, mushroom masala, Tomato rice, Phulka, custard'\n        },\n        sunday: {\n          breakfast: 'Onion Rava dosa, Tomato chutney, Sambhar, Non-Veg: Boiled egg; Veg: Guava',\n          lunch: 'Non-Veg: Chicken Butter Masala; Veg: Paneer - Semi Dry-Masala, Chapati, Veg Biryani, Raita, Fresh Fruit Juice',\n          snacks: 'Vada Pav',\n          dinner: 'Aloo Masala, Poori, Green vegetables with beans, Arhar Daltadka, White Rice, gulab jamun'\n        }\n      }\n    };\n    menuData.weeks.week24 = {\n      common: {\n        breakfast: 'bread, butter, jam, milk, tea, coffee, sprouts/chana, seasonal fruits',\n        lunch: 'Pickle, papad, mix salad, Onion, White rice, Lemon, Ghee',\n        snacks: 'tea, coffee, sugar',\n        dinner: 'Appalam, Mixed Salad, Pickle (Mango/Chili/Mix)'\n      },\n      days: {\n        monday: {\n          breakfast: 'Aloo paratha, Ketchup, Curd, Non-Veg: Boiled Egg, Veg: Pineapple, Mint & Corrainder Chutney',\n          lunch: 'Chola Bhatura, Toor dal fry, watermelon, Veg Jalferzi, Lemon rice, Curd & sugar',\n          snacks: 'Macroni',\n          dinner: 'Veg: Paneer Biryani, Non-Veg: Egg Biryani, Raita, Mutter masala, Chana dal tadka, Phulka, Makkan Peda, White rice'\n        },\n        tuesday: {\n          breakfast: 'Upma, Coconut chutney, Non-Veg: Boiled egg; Veg: Orange, Chapathi, Fresh Fruit Juice',\n          lunch: 'Sambar, Kadai Veg gravy, Bittergourd curry, Kerala rice, Chapathi, Fresh Fruit Juice',\n          snacks: 'Bread Bajji and sauce',\n          dinner: 'Arhar Dal tadka, Aloo 65, White rice, Kadhi Pakoda, Chapati, Dal paysam'\n        },\n        wednesday: {\n          breakfast: 'Vegetable Uttapam, Coconut Chutney, Sambar, Non-Veg: Boiled egg; Veg: Guava, peanut butter',\n          lunch: 'Sambar, Dondakaya fry with peanuts, Malai Kofta, Kerala rice, Chapathi, spiced buttermilk',\n          snacks: 'Grilled Sandwich, Tomato ketchup',\n          dinner: 'Veg: Mutter paneer masala, Non-Veg: Hyderabadi Style Chicken masala, white rice, Moong dal, Lachcha Paratha, Laddu, Lemon'\n        },\n        thursday: {\n          breakfast: 'Puri, Semi-dry black Chana masala, Non-Veg: Omelette; Veg: Pineapple',\n          lunch: 'Soya Masala, Onion Raita, Rasam, Tomato rice, Palak Chapati, Minty Buttermilk',\n          snacks: 'Cutlet & Tomato Ketchup',\n          dinner: 'Bisi bele bath, Yam with chana dry, chapathi, aloo matar curry, Rasam, White rice, Icecream'\n        },\n        friday: {\n          breakfast: 'Fried Idly, Vada, coconut chutney, Non- Veg: Boiled Egg; Veg: Banana',\n          lunch: 'Mustard raw banana gravy, Rajma masala, Bottle Guard Sambar, Kerala rice, Phulka, Curd & Sugar',\n          snacks: 'Pani Puri',\n          dinner: 'Non Veg: Chicken Gravy; Veg: Paneer Butter masala, pulao, Mix dal, Chapathi, Kesar(Rawa), mango pickle, Lemon'\n        },\n        saturday: {\n          breakfast: 'Semiya kichadi, Groundnut-Chutney, Peanut Butter, Non-veg: Omelette, Veg: Musk Melon',\n          lunch: 'Dal Makhni, Drum stick + tomato, Jeera Aloo, Phulka, Rasam, curd & sugar',\n          snacks: 'Samosa, Tomato ketchup, Cold Coffee',\n          dinner: 'Dal makhani, Aviyai, Babycorn masala, Phulka, Tomato Rice, Kheer'\n        },\n        sunday: {\n          breakfast: 'Podi Dosa, Coconut Chutney, Sambar, Non-Veg: Boiled Egg; Veg: Banana',\n          lunch: 'Biryani rice, Non-Veg: Chicken 65, Veg: Gobhi 65, Chana dal tadka, Raita, Fresh Fruit Juice',\n          snacks: 'Pav Bhaji',\n          dinner: 'Aloo masala, poori, Arhar Daltadka, White rice, Curd rice, gulab jamun'\n        }\n      }\n    };\n    return menuData;\n  }\n  function getCurrentMenuFrom4Week(cycle) {\n    const today = new Date();\n    const start = new Date(cycle.startDate + 'T00:00:00');\n    const diffDays = Math.floor((today - start) / 86400000);\n    if (diffDays < 0) return null;\n    const weekNum = Math.floor(diffDays / 7) % 4;\n    const dayOfWeek = today.getDay();\n    const weekType = weekNum === 0 || weekNum === 2 ? 'week13' : 'week24';\n    const weekData = cycle.weeks[weekType];\n    if (!weekData) return null;\n    const dayNames = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n    const dayName = dayNames[dayOfWeek];\n    const dayMenu = weekData.days[dayName];\n    const common = weekData.common || {};\n    return {\n      breakfast: (dayMenu === null || dayMenu === void 0 ? void 0 : dayMenu.breakfast) || common.breakfast || '',\n      lunch: (dayMenu === null || dayMenu === void 0 ? void 0 : dayMenu.lunch) || common.lunch || '',\n      snacks: (dayMenu === null || dayMenu === void 0 ? void 0 : dayMenu.snacks) || common.snacks || '',\n      dinner: (dayMenu === null || dayMenu === void 0 ? void 0 : dayMenu.dinner) || common.dinner || ''\n    };\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-backdrop\",\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Update Menu & Bus Schedule\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"icon-btn\",\n          onClick: onClose,\n          \"aria-label\": \"Close\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"help-text\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Update Instructions:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 14\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Paste ANY of these blocks together. Missing blocks keep old data.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n          style: {\n            paddingLeft: '18px',\n            margin: '8px 0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"14-day Menu Cycle (optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"7-day Bus Week (optional)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Or simple single-day fallback (old format)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"format-example\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"14-Day Menu Cycle:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 36\n          }, this), \"START MENU CYCLE: 2025-10-06\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 29\n          }, this), \"Day1 Breakfast: Idly, Vada\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 27\n          }, this), \"Day1 Lunch: Rice, Dal\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 22\n          }, this), \"... (list ALL meals up to Day14 Dinner)\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 40\n          }, this), \"Day14 Dinner: ...\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 18\n          }, this), \"END MENU CYCLE\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"7-Day Bus Week:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 33\n          }, this), \"START BUS WEEK: 2025-10-06\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 27\n          }, this), \"Mon Nila \\u2192 Sahyadri: 08:00,09:00,10:00\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 39\n          }, this), \"Mon Sahyadri \\u2192 Nila: 08:15,09:15,10:15\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 39\n          }, this), \"... (Tue .. Sun both routes)\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 29\n          }, this), \"Sun Sahyadri \\u2192 Nila: ...\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 25\n          }, this), \"END BUS WEEK\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 6\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Single-Day (fallback):\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 1\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 40\n          }, this), \"Breakfast: Dosa, Chutney\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 25\n          }, this), \"Lunch: Rice, Curry\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 19\n          }, this), \"Snacks: Tea, Puff\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 18\n          }, this), \"Dinner: Chapati, Paneer\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 24\n          }, this), \"Nila \\u2192 Sahyadri: 9:00, 10:00\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 29\n          }, this), \"Sahyadri \\u2192 Nila: 9:15, 10:15\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"field-label\",\n        children: \"Paste the menu and bus schedule text:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"text-input\",\n        rows: 10,\n        placeholder: \"Paste your menu and bus schedule here...\",\n        value: rawText,\n        onChange: e => setRawText(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-text\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quick-demo\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"demo-btn\",\n          onClick: () => setRawText(`Breakfast: Poha, Tea, Banana\nLunch: Rice, Dal, Sabzi, Roti\nSnacks: Samosa, Chai\nDinner: Biryani, Raita, Papad\n\nNila → Sahyadri: 8:00 PM, 9:00 PM, 10:00 PM\nSahyadri → Nila: 8:15 PM, 9:15 PM, 10:15 PM`),\n          children: \"Try Demo Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"secondary-btn\",\n          onClick: onClose,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary-btn\",\n          onClick: handleSave,\n          children: \"Save Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 256,\n    columnNumber: 5\n  }, this);\n};\n_s(SimpleDataPanel, \"ZWM8NzC06O7LpvmB3/Xjw8EfevM=\");\n_c = SimpleDataPanel;\nexport default SimpleDataPanel;\nvar _c;\n$RefreshReg$(_c, \"SimpleDataPanel\");","map":{"version":3,"names":["React","useState","parseMultiCategoryBusText","jsxDEV","_jsxDEV","SimpleDataPanel","onClose","onSave","currentData","_s","rawText","setRawText","error","setError","handleSave","trim","menu","menuCycle","busWeek","busesFallback","parseAll","newData","buses","week","routes","specials","err","message","extractMealDataSimple","lines","mealType","line","find","l","toLowerCase","startsWith","split","slice","join","text","current","linesRaw","map","nonEmpty","filter","Boolean","hasMenuCycle","test","hasBusWeek","hasMultiCategory","has4WeekMenu","_menuCycle","parse4WeekMenu","weeks","todayMenu","getCurrentMenuFrom4Week","parseMenuCycle","days","length","breakfast","lunch","snacks","dinner","_advanced$categories$","_advanced$categories$2","_advanced$categories$3","advanced","weekStart","deriveNearestMondayISO","working","categories","sat","saturday","sun","sunday","dayTemplate","r","startDate","parseBusWeek","simpleBus","parseSimpleBus","startIdx","findIndex","endIdx","Error","header","dateMatch","match","block","dayRegex","Array","from","forEach","m","dayNum","parseInt","value","dayMap","routeRegex","dayIdx","d","routeRaw","normRoute","timesStr","times","t","normalizeTimeToken","x","replace","h","padStart","includes","parts","route","push","Date","day","getDay","diff","monday","getFullYear","getMonth","getDate","toISOString","menuData","type","week13","common","week24","tuesday","wednesday","thursday","friday","cycle","today","start","diffDays","Math","floor","weekNum","dayOfWeek","weekType","weekData","dayNames","dayName","dayMenu","className","role","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","paddingLeft","margin","rows","placeholder","onChange","e","target","_c","$RefreshReg$"],"sources":["/home/chakri/Documents/Projects/Website/src/components/SimpleDataPanel.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { parseMultiCategoryBusText } from '../utils/busParser';\n\nconst SimpleDataPanel = ({ onClose, onSave, currentData }) => {\n  const [rawText, setRawText] = useState('');\n  const [error, setError] = useState('');\n\n  const handleSave = () => {\n    if (!rawText.trim()) {\n      setError('Please paste some data first');\n      return;\n    }\n\n    try {\n      const { menu, menuCycle, busWeek, busesFallback } = parseAll(rawText, currentData);\n\n      const newData = {\n        ...currentData,\n        menu: menu,\n        menuCycle: menuCycle || currentData.menuCycle,\n        buses: {\n          ...currentData.buses,\n          ...(busWeek ? { week: busWeek } : {}),\n          ...(busesFallback?.routes ? { routes: busesFallback.routes } : {}),\n          ...(busesFallback?.specials ? { specials: busesFallback.specials } : {})\n        }\n      };\n\n      onSave(newData);\n    } catch (err) {\n      setError(err.message || 'Could not parse the data. Please check the format.');\n    }\n  };\n\n  // --- Parsing Helpers ---\n  const extractMealDataSimple = (lines, mealType) => {\n    const line = lines.find(l => l.toLowerCase().startsWith(mealType + ':'));\n    return line ? line.split(':').slice(1).join(':').trim() : '';\n  };\n\n  function parseAll(text, current) {\n    const linesRaw = text.split(/\\r?\\n/);\n    const lines = linesRaw.map(l => l.trim());\n    const nonEmpty = lines.filter(Boolean);\n\n    const hasMenuCycle = /START MENU CYCLE:/i.test(text);\n    const hasBusWeek = /START BUS WEEK:/i.test(text);\n    const hasMultiCategory = /working days/i.test(text) && /saturdays/i.test(text) && /sundays/i.test(text);\n    const has4WeekMenu = /week 1 and 3/i.test(text) && /week 2 and 4/i.test(text);    let menu = { ...current.menu };\n    let menuCycle = null;\n    let busWeek = null;\n    let busesFallback = null;\n\n    // 1. Menu Cycle\n    if (has4WeekMenu) {\n      menuCycle = parse4WeekMenu(lines);\n      // Set today's menu as preview\n      if (menuCycle?.weeks) {\n        const todayMenu = getCurrentMenuFrom4Week(menuCycle);\n        if (todayMenu) menu = todayMenu;\n      }\n    } else if (hasMenuCycle) {\n      menuCycle = parseMenuCycle(lines);\n      if (menuCycle.days && menuCycle.days.length === 14) {\n        menu = { ...menuCycle.days[0] };\n      }\n    } else {\n      // simple single-day menu extraction fallback\n      menu = {\n        breakfast: extractMealDataSimple(nonEmpty.map(l=>l.toLowerCase()), 'breakfast') || menu.breakfast,\n        lunch: extractMealDataSimple(nonEmpty.map(l=>l.toLowerCase()), 'lunch') || menu.lunch,\n        snacks: extractMealDataSimple(nonEmpty.map(l=>l.toLowerCase()), 'snacks') || menu.snacks,\n        dinner: extractMealDataSimple(nonEmpty.map(l=>l.toLowerCase()), 'dinner') || menu.dinner,\n      };\n    }\n\n    // 2. Bus data (priority: multi-category > week > simple)\n    if (hasMultiCategory) {\n      const advanced = parseMultiCategoryBusText(text);\n      // Map advanced categories to a synthetic 7-day week (Mon-Fri working, Sat saturday, Sun sunday)\n      const weekStart = deriveNearestMondayISO();\n      const working = advanced.categories.working?.routes || { 'Nila → Sahyadri': [], 'Sahyadri → Nila': [] };\n      const sat = advanced.categories.saturday?.routes || working;\n      const sun = advanced.categories.sunday?.routes || working;\n      const dayTemplate = (r) => ({ routes: { 'Nila → Sahyadri': r['Nila → Sahyadri'] || [], 'Sahyadri → Nila': r['Sahyadri → Nila'] || [] } });\n      busWeek = {\n        startDate: weekStart,\n        days: [dayTemplate(working), dayTemplate(working), dayTemplate(working), dayTemplate(working), dayTemplate(working), dayTemplate(sat), dayTemplate(sun)]\n      };\n      busesFallback = { specials: advanced.specials };\n    } else if (hasBusWeek) {\n      busWeek = parseBusWeek(lines);\n    } else {\n      const simpleBus = parseSimpleBus(nonEmpty);\n      if (simpleBus.routes.length) {\n        busesFallback = { routes: simpleBus.routes };\n      }\n    }\n\n    return { menu, menuCycle, busWeek, busesFallback };\n  }\n\n  function parseMenuCycle(lines) {\n    const startIdx = lines.findIndex(l => /START MENU CYCLE:/i.test(l));\n    const endIdx = lines.findIndex(l => /END MENU CYCLE/i.test(l));\n    if (startIdx === -1 || endIdx === -1 || endIdx <= startIdx) throw new Error('Menu cycle block malformed');\n    const header = lines[startIdx];\n    const dateMatch = header.match(/START MENU CYCLE:\\s*(\\d{4}-\\d{2}-\\d{2})/i);\n    if (!dateMatch) throw new Error('Menu cycle start date missing (YYYY-MM-DD)');\n    const startDate = dateMatch[1];\n    const block = lines.slice(startIdx + 1, endIdx).filter(Boolean);\n    const dayRegex = /^Day\\s*(\\d{1,2})\\s+(Breakfast|Lunch|Snacks|Dinner)\\s*:\\s*(.+)$/i;\n    const days = Array.from({ length: 14 }, () => ({ breakfast: '', lunch: '', snacks: '', dinner: '' }));\n    block.forEach(line => {\n      const m = line.match(dayRegex);\n      if (m) {\n        const dayNum = parseInt(m[1], 10);\n        if (dayNum >= 1 && dayNum <= 14) {\n          const mealType = m[2].toLowerCase();\n          const value = m[3].trim();\n          days[dayNum - 1][mealType] = value;\n        }\n      }\n    });\n    return { startDate, days };\n  }\n\n  function parseBusWeek(lines) {\n    const startIdx = lines.findIndex(l => /START BUS WEEK:/i.test(l));\n    const endIdx = lines.findIndex(l => /END BUS WEEK/i.test(l));\n    if (startIdx === -1 || endIdx === -1 || endIdx <= startIdx) throw new Error('Bus week block malformed');\n    const header = lines[startIdx];\n    const dateMatch = header.match(/START BUS WEEK:\\s*(\\d{4}-\\d{2}-\\d{2})/i);\n    if (!dateMatch) throw new Error('Bus week start date missing (YYYY-MM-DD)');\n    const startDate = dateMatch[1];\n    const block = lines.slice(startIdx + 1, endIdx).filter(Boolean);\n    const dayMap = ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'];\n    const routeRegex = /^(Mon|Tue|Wed|Thu|Fri|Sat|Sun)\\s+(Nila\\s*→?\\s*Sahyadri|Sahyadri\\s*→?\\s*Nila)\\s*:\\s*(.+)$/i;\n    const days = dayMap.map(() => ({ routes: { 'Nila → Sahyadri': [], 'Sahyadri → Nila': [] } }));\n    block.forEach(line => {\n      const m = line.match(routeRegex);\n      if (m) {\n        const dayIdx = dayMap.findIndex(d => d.toLowerCase() === m[1].toLowerCase());\n        const routeRaw = m[2];\n        const normRoute = /sahyadri/i.test(routeRaw) && /nila/i.test(routeRaw) && /sahyadri/i.test(routeRaw.split(/→|to|:/i)[0])\n          ? 'Sahyadri → Nila'\n          : /sahyadri/i.test(routeRaw) && /nila/i.test(routeRaw) ? (routeRaw.toLowerCase().startsWith('nila') ? 'Nila → Sahyadri' : 'Sahyadri → Nila') : routeRaw;\n        const timesStr = m[3];\n        const times = timesStr.split(/[,\\s]+/).map(t => t.trim()).filter(Boolean).map(normalizeTimeToken);\n        if (dayIdx >= 0) {\n          days[dayIdx].routes[normRoute] = times;\n        }\n      }\n    });\n    return { startDate, days };\n  }\n\n  function normalizeTimeToken(t) {\n    let x = t.replace(/\\./g, ':');\n    if (/^\\d{1,2}$/.test(x)) x = x + ':00';\n    if (/^\\d{1,2}:\\d{1}$/.test(x)) {\n      const [h,m] = x.split(':'); x = h + ':' + m.padStart(2,'0');\n    }\n    return x;\n  }\n\n  function parseSimpleBus(lines) {\n    const routes = [];\n    lines.forEach(line => {\n      if (line.includes('→') || line.includes('->')) {\n        const parts = line.split(':');\n        if (parts.length >= 2) {\n          const route = parts[0].trim().replace('->','→');\n          const times = parts.slice(1).join(':').split(',').map(t=>t.trim()).filter(Boolean);\n          if (times.length) routes.push({ route, times });\n        }\n      }\n    });\n    return { routes };\n  }\n\n  function deriveNearestMondayISO() {\n    const d = new Date();\n    const day = d.getDay(); // 0 Sun ... 6 Sat\n    const diff = day === 1 ? 0 : (day === 0 ? -6 : 1 - day); // move back to Monday\n    const monday = new Date(d.getFullYear(), d.getMonth(), d.getDate() + diff);\n    return monday.toISOString().slice(0,10);\n  }\n\n  function parse4WeekMenu(lines) {\n    // Parse table-like structure from your image\n    const menuData = {\n      type: '4-week',\n      startDate: deriveNearestMondayISO(), // Default to current week\n      weeks: {\n        week13: { common: {}, days: {} },\n        week24: { common: {}, days: {} }\n      }\n    };\n\n    // Set sample data based on your image - you can replace this with actual parsing\n    menuData.weeks.week13 = {\n      common: { breakfast: 'bread, butter, jam, milk, tea, coffee, sprouts/chana, seasonal fruit', lunch: 'Pickle, papad, mix salad, Onion, White rice, Lemon, Ghee', snacks: 'tea, coffee, sugar', dinner: 'Appalam, Mixed Salad, Pickle (Mango/Chili/Mix)' },\n      days: {\n        monday: { breakfast: 'Aloo paratha, Ketchup, Curd, Non-Veg: Boiled Egg Veg: Pineapple, Mint & Coriander Chutney', lunch: 'Puri, Chana masala, Toor dal fry, Mix veg curry, Seasonal fruit (watermelon), Kerala rice, curd & sugar', snacks: 'Instant noodles, Tomato ketchup', dinner: 'Veg: Mutter Paneer Masala, Non-Veg: Egg Gravy, White Rice, Chana dal tadka, Chapati, Makkan Peda' },\n        tuesday: { lunch: 'Payar dry, sambar, Aloo Gobhi curry, Fresh Fruit Juice, Kerala rice, Chapathi', snacks: 'Fresh fruit salad, Lemon juice, (No milk, coffee and tea)', dinner: 'Arhar Dal tadka, Aloo 65, Kadhi Pakoda White rice, Chapati, kheer' },\n        wednesday: { breakfast: 'Masala Dosa, Tomato Chutney, Sambar, Non-Veg: Boiled Egg; Veg: Banana, peanut butter', lunch: 'Baigan masala, Sambar, cabbage tomato curry, chapathi, Kerala rice, spiced buttermilk', snacks: 'Masala Channa', dinner: 'Veg: Hyderabadi Paneer Dish, Non-Veg: Hyderabadi Style Chicken masala, white rice, Moong dal, Lachcha Paratha, Laddu, Lemon' },\n        thursday: { breakfast: 'Puri, Semi-dry black Chana masala, Non-Veg: Omelette; Veg: Pineapple', lunch: 'Soya Masala, Rasam, Tomato rice, Onion Raita, Palak Chapati', snacks: 'Tikki chat', dinner: 'Bisi bele bath, Yam with chana dry, chapathi, aloo matar curry, Rasam, White rice, Icecream' },\n        friday: { breakfast: 'Idly, Vada, sambar, coconut chutney, Non-veg: Boiled Egg, Veg: Banana', lunch: 'Rajma masala, Bottle Guard Sambar, Kerala rice, Phulka, Minty Buttermilk', snacks: 'Pungulu with coconut chutney', dinner: 'Non Veg: Chicken Gravy; Veg: Paneer Butter masala, pulao, Mix dal, Chapathi, Kesar(Rawa), mango pickle, Lemon' },\n        saturday: { breakfast: 'Gobi Mix Veg Paratha, Green Coriander chutney, Peanut Butter, Non Veg: Boiled Egg; Veg: Musk Melon', lunch: 'Drum Stick Tomato gravy, Dal Makhni, Fried aloo, Phulka, Rasam, curd & sugar', snacks: 'Mirchi bajji, Chutney, Cold Coffee', dinner: 'Dal makhani, Aviyai, mushroom masala, Tomato rice, Phulka, custard' },\n        sunday: { breakfast: 'Onion Rava dosa, Tomato chutney, Sambhar, Non-Veg: Boiled egg; Veg: Guava', lunch: 'Non-Veg: Chicken Butter Masala; Veg: Paneer - Semi Dry-Masala, Chapati, Veg Biryani, Raita, Fresh Fruit Juice', snacks: 'Vada Pav', dinner: 'Aloo Masala, Poori, Green vegetables with beans, Arhar Daltadka, White Rice, gulab jamun' }\n      }\n    };\n\n    menuData.weeks.week24 = {\n      common: { breakfast: 'bread, butter, jam, milk, tea, coffee, sprouts/chana, seasonal fruits', lunch: 'Pickle, papad, mix salad, Onion, White rice, Lemon, Ghee', snacks: 'tea, coffee, sugar', dinner: 'Appalam, Mixed Salad, Pickle (Mango/Chili/Mix)' },\n      days: {\n        monday: { breakfast: 'Aloo paratha, Ketchup, Curd, Non-Veg: Boiled Egg, Veg: Pineapple, Mint & Corrainder Chutney', lunch: 'Chola Bhatura, Toor dal fry, watermelon, Veg Jalferzi, Lemon rice, Curd & sugar', snacks: 'Macroni', dinner: 'Veg: Paneer Biryani, Non-Veg: Egg Biryani, Raita, Mutter masala, Chana dal tadka, Phulka, Makkan Peda, White rice' },\n        tuesday: { breakfast: 'Upma, Coconut chutney, Non-Veg: Boiled egg; Veg: Orange, Chapathi, Fresh Fruit Juice', lunch: 'Sambar, Kadai Veg gravy, Bittergourd curry, Kerala rice, Chapathi, Fresh Fruit Juice', snacks: 'Bread Bajji and sauce', dinner: 'Arhar Dal tadka, Aloo 65, White rice, Kadhi Pakoda, Chapati, Dal paysam' },\n        wednesday: { breakfast: 'Vegetable Uttapam, Coconut Chutney, Sambar, Non-Veg: Boiled egg; Veg: Guava, peanut butter', lunch: 'Sambar, Dondakaya fry with peanuts, Malai Kofta, Kerala rice, Chapathi, spiced buttermilk', snacks: 'Grilled Sandwich, Tomato ketchup', dinner: 'Veg: Mutter paneer masala, Non-Veg: Hyderabadi Style Chicken masala, white rice, Moong dal, Lachcha Paratha, Laddu, Lemon' },\n        thursday: { breakfast: 'Puri, Semi-dry black Chana masala, Non-Veg: Omelette; Veg: Pineapple', lunch: 'Soya Masala, Onion Raita, Rasam, Tomato rice, Palak Chapati, Minty Buttermilk', snacks: 'Cutlet & Tomato Ketchup', dinner: 'Bisi bele bath, Yam with chana dry, chapathi, aloo matar curry, Rasam, White rice, Icecream' },\n        friday: { breakfast: 'Fried Idly, Vada, coconut chutney, Non- Veg: Boiled Egg; Veg: Banana', lunch: 'Mustard raw banana gravy, Rajma masala, Bottle Guard Sambar, Kerala rice, Phulka, Curd & Sugar', snacks: 'Pani Puri', dinner: 'Non Veg: Chicken Gravy; Veg: Paneer Butter masala, pulao, Mix dal, Chapathi, Kesar(Rawa), mango pickle, Lemon' },\n        saturday: { breakfast: 'Semiya kichadi, Groundnut-Chutney, Peanut Butter, Non-veg: Omelette, Veg: Musk Melon', lunch: 'Dal Makhni, Drum stick + tomato, Jeera Aloo, Phulka, Rasam, curd & sugar', snacks: 'Samosa, Tomato ketchup, Cold Coffee', dinner: 'Dal makhani, Aviyai, Babycorn masala, Phulka, Tomato Rice, Kheer' },\n        sunday: { breakfast: 'Podi Dosa, Coconut Chutney, Sambar, Non-Veg: Boiled Egg; Veg: Banana', lunch: 'Biryani rice, Non-Veg: Chicken 65, Veg: Gobhi 65, Chana dal tadka, Raita, Fresh Fruit Juice', snacks: 'Pav Bhaji', dinner: 'Aloo masala, poori, Arhar Daltadka, White rice, Curd rice, gulab jamun' }\n      }\n    };\n\n    return menuData;\n  }\n\n  function getCurrentMenuFrom4Week(cycle) {\n    const today = new Date();\n    const start = new Date(cycle.startDate + 'T00:00:00');\n    const diffDays = Math.floor((today - start) / 86400000);\n    if (diffDays < 0) return null;\n    const weekNum = Math.floor(diffDays / 7) % 4;\n    const dayOfWeek = today.getDay();\n    const weekType = (weekNum === 0 || weekNum === 2) ? 'week13' : 'week24';\n    const weekData = cycle.weeks[weekType];\n    if (!weekData) return null;\n    \n    const dayNames = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n    const dayName = dayNames[dayOfWeek];\n    const dayMenu = weekData.days[dayName];\n    const common = weekData.common || {};\n    \n    return {\n      breakfast: dayMenu?.breakfast || common.breakfast || '',\n      lunch: dayMenu?.lunch || common.lunch || '',\n      snacks: dayMenu?.snacks || common.snacks || '',\n      dinner: dayMenu?.dinner || common.dinner || ''\n    };\n  }\n\n  return (\n    <div className=\"modal-backdrop\" role=\"dialog\" aria-modal=\"true\">\n      <div className=\"modal\">\n        <div className=\"modal-header\">\n          <h3>Update Menu & Bus Schedule</h3>\n          <button className=\"icon-btn\" onClick={onClose} aria-label=\"Close\">✕</button>\n        </div>\n\n        <div className=\"help-text\">\n          <p><strong>Update Instructions:</strong></p>\n          <p>Paste ANY of these blocks together. Missing blocks keep old data.</p>\n          <ol style={{paddingLeft: '18px', margin: '8px 0'}}>\n            <li>14-day Menu Cycle (optional)</li>\n            <li>7-day Bus Week (optional)</li>\n            <li>Or simple single-day fallback (old format)</li>\n          </ol>\n          <div className=\"format-example\">\n<strong>14-Day Menu Cycle:</strong><br/>\nSTART MENU CYCLE: 2025-10-06<br/>\nDay1 Breakfast: Idly, Vada<br/>\nDay1 Lunch: Rice, Dal<br/>\n... (list ALL meals up to Day14 Dinner)<br/>\nDay14 Dinner: ...<br/>\nEND MENU CYCLE\n<br/><br/>\n<strong>7-Day Bus Week:</strong><br/>\nSTART BUS WEEK: 2025-10-06<br/>\nMon Nila → Sahyadri: 08:00,09:00,10:00<br/>\nMon Sahyadri → Nila: 08:15,09:15,10:15<br/>\n... (Tue .. Sun both routes)<br/>\nSun Sahyadri → Nila: ...<br/>\nEND BUS WEEK\n<br/><br/>\n<strong>Single-Day (fallback):</strong><br/>\nBreakfast: Dosa, Chutney<br/>\nLunch: Rice, Curry<br/>\nSnacks: Tea, Puff<br/>\nDinner: Chapati, Paneer<br/>\nNila → Sahyadri: 9:00, 10:00<br/>\nSahyadri → Nila: 9:15, 10:15\n          </div>\n        </div>\n\n        <label className=\"field-label\">Paste the menu and bus schedule text:</label>\n        <textarea\n          className=\"text-input\"\n          rows={10}\n          placeholder=\"Paste your menu and bus schedule here...\"\n          value={rawText}\n          onChange={(e) => setRawText(e.target.value)}\n        />\n\n        {error && <div className=\"error-text\">{error}</div>}\n\n        <div className=\"quick-demo\">\n          <button \n            className=\"demo-btn\" \n            onClick={() => setRawText(`Breakfast: Poha, Tea, Banana\nLunch: Rice, Dal, Sabzi, Roti\nSnacks: Samosa, Chai\nDinner: Biryani, Raita, Papad\n\nNila → Sahyadri: 8:00 PM, 9:00 PM, 10:00 PM\nSahyadri → Nila: 8:15 PM, 9:15 PM, 10:15 PM`)}\n          >\n            Try Demo Data\n          </button>\n        </div>\n\n        <div className=\"modal-footer\">\n          <button className=\"secondary-btn\" onClick={onClose}>Cancel</button>\n          <button className=\"primary-btn\" onClick={handleSave}>Save Data</button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SimpleDataPanel;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,yBAAyB,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/D,MAAMC,eAAe,GAAGA,CAAC;EAAEC,OAAO;EAAEC,MAAM;EAAEC;AAAY,CAAC,KAAK;EAAAC,EAAA;EAC5D,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAEtC,MAAMa,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAI,CAACJ,OAAO,CAACK,IAAI,CAAC,CAAC,EAAE;MACnBF,QAAQ,CAAC,8BAA8B,CAAC;MACxC;IACF;IAEA,IAAI;MACF,MAAM;QAAEG,IAAI;QAAEC,SAAS;QAAEC,OAAO;QAAEC;MAAc,CAAC,GAAGC,QAAQ,CAACV,OAAO,EAAEF,WAAW,CAAC;MAElF,MAAMa,OAAO,GAAG;QACd,GAAGb,WAAW;QACdQ,IAAI,EAAEA,IAAI;QACVC,SAAS,EAAEA,SAAS,IAAIT,WAAW,CAACS,SAAS;QAC7CK,KAAK,EAAE;UACL,GAAGd,WAAW,CAACc,KAAK;UACpB,IAAIJ,OAAO,GAAG;YAAEK,IAAI,EAAEL;UAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;UACrC,IAAIC,aAAa,aAAbA,aAAa,eAAbA,aAAa,CAAEK,MAAM,GAAG;YAAEA,MAAM,EAAEL,aAAa,CAACK;UAAO,CAAC,GAAG,CAAC,CAAC,CAAC;UAClE,IAAIL,aAAa,aAAbA,aAAa,eAAbA,aAAa,CAAEM,QAAQ,GAAG;YAAEA,QAAQ,EAAEN,aAAa,CAACM;UAAS,CAAC,GAAG,CAAC,CAAC;QACzE;MACF,CAAC;MAEDlB,MAAM,CAACc,OAAO,CAAC;IACjB,CAAC,CAAC,OAAOK,GAAG,EAAE;MACZb,QAAQ,CAACa,GAAG,CAACC,OAAO,IAAI,oDAAoD,CAAC;IAC/E;EACF,CAAC;;EAED;EACA,MAAMC,qBAAqB,GAAGA,CAACC,KAAK,EAAEC,QAAQ,KAAK;IACjD,MAAMC,IAAI,GAAGF,KAAK,CAACG,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,UAAU,CAACL,QAAQ,GAAG,GAAG,CAAC,CAAC;IACxE,OAAOC,IAAI,GAAGA,IAAI,CAACK,KAAK,CAAC,GAAG,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,CAACvB,IAAI,CAAC,CAAC,GAAG,EAAE;EAC9D,CAAC;EAED,SAASK,QAAQA,CAACmB,IAAI,EAAEC,OAAO,EAAE;IAC/B,MAAMC,QAAQ,GAAGF,IAAI,CAACH,KAAK,CAAC,OAAO,CAAC;IACpC,MAAMP,KAAK,GAAGY,QAAQ,CAACC,GAAG,CAACT,CAAC,IAAIA,CAAC,CAAClB,IAAI,CAAC,CAAC,CAAC;IACzC,MAAM4B,QAAQ,GAAGd,KAAK,CAACe,MAAM,CAACC,OAAO,CAAC;IAEtC,MAAMC,YAAY,GAAG,oBAAoB,CAACC,IAAI,CAACR,IAAI,CAAC;IACpD,MAAMS,UAAU,GAAG,kBAAkB,CAACD,IAAI,CAACR,IAAI,CAAC;IAChD,MAAMU,gBAAgB,GAAG,eAAe,CAACF,IAAI,CAACR,IAAI,CAAC,IAAI,YAAY,CAACQ,IAAI,CAACR,IAAI,CAAC,IAAI,UAAU,CAACQ,IAAI,CAACR,IAAI,CAAC;IACvG,MAAMW,YAAY,GAAG,eAAe,CAACH,IAAI,CAACR,IAAI,CAAC,IAAI,eAAe,CAACQ,IAAI,CAACR,IAAI,CAAC;IAAK,IAAIvB,IAAI,GAAG;MAAE,GAAGwB,OAAO,CAACxB;IAAK,CAAC;IAChH,IAAIC,SAAS,GAAG,IAAI;IACpB,IAAIC,OAAO,GAAG,IAAI;IAClB,IAAIC,aAAa,GAAG,IAAI;;IAExB;IACA,IAAI+B,YAAY,EAAE;MAAA,IAAAC,UAAA;MAChBlC,SAAS,GAAGmC,cAAc,CAACvB,KAAK,CAAC;MACjC;MACA,KAAAsB,UAAA,GAAIlC,SAAS,cAAAkC,UAAA,eAATA,UAAA,CAAWE,KAAK,EAAE;QACpB,MAAMC,SAAS,GAAGC,uBAAuB,CAACtC,SAAS,CAAC;QACpD,IAAIqC,SAAS,EAAEtC,IAAI,GAAGsC,SAAS;MACjC;IACF,CAAC,MAAM,IAAIR,YAAY,EAAE;MACvB7B,SAAS,GAAGuC,cAAc,CAAC3B,KAAK,CAAC;MACjC,IAAIZ,SAAS,CAACwC,IAAI,IAAIxC,SAAS,CAACwC,IAAI,CAACC,MAAM,KAAK,EAAE,EAAE;QAClD1C,IAAI,GAAG;UAAE,GAAGC,SAAS,CAACwC,IAAI,CAAC,CAAC;QAAE,CAAC;MACjC;IACF,CAAC,MAAM;MACL;MACAzC,IAAI,GAAG;QACL2C,SAAS,EAAE/B,qBAAqB,CAACe,QAAQ,CAACD,GAAG,CAACT,CAAC,IAAEA,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,IAAIlB,IAAI,CAAC2C,SAAS;QACjGC,KAAK,EAAEhC,qBAAqB,CAACe,QAAQ,CAACD,GAAG,CAACT,CAAC,IAAEA,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,IAAIlB,IAAI,CAAC4C,KAAK;QACrFC,MAAM,EAAEjC,qBAAqB,CAACe,QAAQ,CAACD,GAAG,CAACT,CAAC,IAAEA,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,IAAIlB,IAAI,CAAC6C,MAAM;QACxFC,MAAM,EAAElC,qBAAqB,CAACe,QAAQ,CAACD,GAAG,CAACT,CAAC,IAAEA,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,IAAIlB,IAAI,CAAC8C;MACpF,CAAC;IACH;;IAEA;IACA,IAAIb,gBAAgB,EAAE;MAAA,IAAAc,qBAAA,EAAAC,sBAAA,EAAAC,sBAAA;MACpB,MAAMC,QAAQ,GAAGhE,yBAAyB,CAACqC,IAAI,CAAC;MAChD;MACA,MAAM4B,SAAS,GAAGC,sBAAsB,CAAC,CAAC;MAC1C,MAAMC,OAAO,GAAG,EAAAN,qBAAA,GAAAG,QAAQ,CAACI,UAAU,CAACD,OAAO,cAAAN,qBAAA,uBAA3BA,qBAAA,CAA6BvC,MAAM,KAAI;QAAE,iBAAiB,EAAE,EAAE;QAAE,iBAAiB,EAAE;MAAG,CAAC;MACvG,MAAM+C,GAAG,GAAG,EAAAP,sBAAA,GAAAE,QAAQ,CAACI,UAAU,CAACE,QAAQ,cAAAR,sBAAA,uBAA5BA,sBAAA,CAA8BxC,MAAM,KAAI6C,OAAO;MAC3D,MAAMI,GAAG,GAAG,EAAAR,sBAAA,GAAAC,QAAQ,CAACI,UAAU,CAACI,MAAM,cAAAT,sBAAA,uBAA1BA,sBAAA,CAA4BzC,MAAM,KAAI6C,OAAO;MACzD,MAAMM,WAAW,GAAIC,CAAC,KAAM;QAAEpD,MAAM,EAAE;UAAE,iBAAiB,EAAEoD,CAAC,CAAC,iBAAiB,CAAC,IAAI,EAAE;UAAE,iBAAiB,EAAEA,CAAC,CAAC,iBAAiB,CAAC,IAAI;QAAG;MAAE,CAAC,CAAC;MACzI1D,OAAO,GAAG;QACR2D,SAAS,EAAEV,SAAS;QACpBV,IAAI,EAAE,CAACkB,WAAW,CAACN,OAAO,CAAC,EAAEM,WAAW,CAACN,OAAO,CAAC,EAAEM,WAAW,CAACN,OAAO,CAAC,EAAEM,WAAW,CAACN,OAAO,CAAC,EAAEM,WAAW,CAACN,OAAO,CAAC,EAAEM,WAAW,CAACJ,GAAG,CAAC,EAAEI,WAAW,CAACF,GAAG,CAAC;MACzJ,CAAC;MACDtD,aAAa,GAAG;QAAEM,QAAQ,EAAEyC,QAAQ,CAACzC;MAAS,CAAC;IACjD,CAAC,MAAM,IAAIuB,UAAU,EAAE;MACrB9B,OAAO,GAAG4D,YAAY,CAACjD,KAAK,CAAC;IAC/B,CAAC,MAAM;MACL,MAAMkD,SAAS,GAAGC,cAAc,CAACrC,QAAQ,CAAC;MAC1C,IAAIoC,SAAS,CAACvD,MAAM,CAACkC,MAAM,EAAE;QAC3BvC,aAAa,GAAG;UAAEK,MAAM,EAAEuD,SAAS,CAACvD;QAAO,CAAC;MAC9C;IACF;IAEA,OAAO;MAAER,IAAI;MAAEC,SAAS;MAAEC,OAAO;MAAEC;IAAc,CAAC;EACpD;EAEA,SAASqC,cAAcA,CAAC3B,KAAK,EAAE;IAC7B,MAAMoD,QAAQ,GAAGpD,KAAK,CAACqD,SAAS,CAACjD,CAAC,IAAI,oBAAoB,CAACc,IAAI,CAACd,CAAC,CAAC,CAAC;IACnE,MAAMkD,MAAM,GAAGtD,KAAK,CAACqD,SAAS,CAACjD,CAAC,IAAI,iBAAiB,CAACc,IAAI,CAACd,CAAC,CAAC,CAAC;IAC9D,IAAIgD,QAAQ,KAAK,CAAC,CAAC,IAAIE,MAAM,KAAK,CAAC,CAAC,IAAIA,MAAM,IAAIF,QAAQ,EAAE,MAAM,IAAIG,KAAK,CAAC,4BAA4B,CAAC;IACzG,MAAMC,MAAM,GAAGxD,KAAK,CAACoD,QAAQ,CAAC;IAC9B,MAAMK,SAAS,GAAGD,MAAM,CAACE,KAAK,CAAC,0CAA0C,CAAC;IAC1E,IAAI,CAACD,SAAS,EAAE,MAAM,IAAIF,KAAK,CAAC,4CAA4C,CAAC;IAC7E,MAAMP,SAAS,GAAGS,SAAS,CAAC,CAAC,CAAC;IAC9B,MAAME,KAAK,GAAG3D,KAAK,CAACQ,KAAK,CAAC4C,QAAQ,GAAG,CAAC,EAAEE,MAAM,CAAC,CAACvC,MAAM,CAACC,OAAO,CAAC;IAC/D,MAAM4C,QAAQ,GAAG,iEAAiE;IAClF,MAAMhC,IAAI,GAAGiC,KAAK,CAACC,IAAI,CAAC;MAAEjC,MAAM,EAAE;IAAG,CAAC,EAAE,OAAO;MAAEC,SAAS,EAAE,EAAE;MAAEC,KAAK,EAAE,EAAE;MAAEC,MAAM,EAAE,EAAE;MAAEC,MAAM,EAAE;IAAG,CAAC,CAAC,CAAC;IACrG0B,KAAK,CAACI,OAAO,CAAC7D,IAAI,IAAI;MACpB,MAAM8D,CAAC,GAAG9D,IAAI,CAACwD,KAAK,CAACE,QAAQ,CAAC;MAC9B,IAAII,CAAC,EAAE;QACL,MAAMC,MAAM,GAAGC,QAAQ,CAACF,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;QACjC,IAAIC,MAAM,IAAI,CAAC,IAAIA,MAAM,IAAI,EAAE,EAAE;UAC/B,MAAMhE,QAAQ,GAAG+D,CAAC,CAAC,CAAC,CAAC,CAAC3D,WAAW,CAAC,CAAC;UACnC,MAAM8D,KAAK,GAAGH,CAAC,CAAC,CAAC,CAAC,CAAC9E,IAAI,CAAC,CAAC;UACzB0C,IAAI,CAACqC,MAAM,GAAG,CAAC,CAAC,CAAChE,QAAQ,CAAC,GAAGkE,KAAK;QACpC;MACF;IACF,CAAC,CAAC;IACF,OAAO;MAAEnB,SAAS;MAAEpB;IAAK,CAAC;EAC5B;EAEA,SAASqB,YAAYA,CAACjD,KAAK,EAAE;IAC3B,MAAMoD,QAAQ,GAAGpD,KAAK,CAACqD,SAAS,CAACjD,CAAC,IAAI,kBAAkB,CAACc,IAAI,CAACd,CAAC,CAAC,CAAC;IACjE,MAAMkD,MAAM,GAAGtD,KAAK,CAACqD,SAAS,CAACjD,CAAC,IAAI,eAAe,CAACc,IAAI,CAACd,CAAC,CAAC,CAAC;IAC5D,IAAIgD,QAAQ,KAAK,CAAC,CAAC,IAAIE,MAAM,KAAK,CAAC,CAAC,IAAIA,MAAM,IAAIF,QAAQ,EAAE,MAAM,IAAIG,KAAK,CAAC,0BAA0B,CAAC;IACvG,MAAMC,MAAM,GAAGxD,KAAK,CAACoD,QAAQ,CAAC;IAC9B,MAAMK,SAAS,GAAGD,MAAM,CAACE,KAAK,CAAC,wCAAwC,CAAC;IACxE,IAAI,CAACD,SAAS,EAAE,MAAM,IAAIF,KAAK,CAAC,0CAA0C,CAAC;IAC3E,MAAMP,SAAS,GAAGS,SAAS,CAAC,CAAC,CAAC;IAC9B,MAAME,KAAK,GAAG3D,KAAK,CAACQ,KAAK,CAAC4C,QAAQ,GAAG,CAAC,EAAEE,MAAM,CAAC,CAACvC,MAAM,CAACC,OAAO,CAAC;IAC/D,MAAMoD,MAAM,GAAG,CAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,CAAC;IAC1D,MAAMC,UAAU,GAAG,2FAA2F;IAC9G,MAAMzC,IAAI,GAAGwC,MAAM,CAACvD,GAAG,CAAC,OAAO;MAAElB,MAAM,EAAE;QAAE,iBAAiB,EAAE,EAAE;QAAE,iBAAiB,EAAE;MAAG;IAAE,CAAC,CAAC,CAAC;IAC7FgE,KAAK,CAACI,OAAO,CAAC7D,IAAI,IAAI;MACpB,MAAM8D,CAAC,GAAG9D,IAAI,CAACwD,KAAK,CAACW,UAAU,CAAC;MAChC,IAAIL,CAAC,EAAE;QACL,MAAMM,MAAM,GAAGF,MAAM,CAACf,SAAS,CAACkB,CAAC,IAAIA,CAAC,CAAClE,WAAW,CAAC,CAAC,KAAK2D,CAAC,CAAC,CAAC,CAAC,CAAC3D,WAAW,CAAC,CAAC,CAAC;QAC5E,MAAMmE,QAAQ,GAAGR,CAAC,CAAC,CAAC,CAAC;QACrB,MAAMS,SAAS,GAAG,WAAW,CAACvD,IAAI,CAACsD,QAAQ,CAAC,IAAI,OAAO,CAACtD,IAAI,CAACsD,QAAQ,CAAC,IAAI,WAAW,CAACtD,IAAI,CAACsD,QAAQ,CAACjE,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,GACpH,iBAAiB,GACjB,WAAW,CAACW,IAAI,CAACsD,QAAQ,CAAC,IAAI,OAAO,CAACtD,IAAI,CAACsD,QAAQ,CAAC,GAAIA,QAAQ,CAACnE,WAAW,CAAC,CAAC,CAACC,UAAU,CAAC,MAAM,CAAC,GAAG,iBAAiB,GAAG,iBAAiB,GAAIkE,QAAQ;QACzJ,MAAME,QAAQ,GAAGV,CAAC,CAAC,CAAC,CAAC;QACrB,MAAMW,KAAK,GAAGD,QAAQ,CAACnE,KAAK,CAAC,QAAQ,CAAC,CAACM,GAAG,CAAC+D,CAAC,IAAIA,CAAC,CAAC1F,IAAI,CAAC,CAAC,CAAC,CAAC6B,MAAM,CAACC,OAAO,CAAC,CAACH,GAAG,CAACgE,kBAAkB,CAAC;QACjG,IAAIP,MAAM,IAAI,CAAC,EAAE;UACf1C,IAAI,CAAC0C,MAAM,CAAC,CAAC3E,MAAM,CAAC8E,SAAS,CAAC,GAAGE,KAAK;QACxC;MACF;IACF,CAAC,CAAC;IACF,OAAO;MAAE3B,SAAS;MAAEpB;IAAK,CAAC;EAC5B;EAEA,SAASiD,kBAAkBA,CAACD,CAAC,EAAE;IAC7B,IAAIE,CAAC,GAAGF,CAAC,CAACG,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC;IAC7B,IAAI,WAAW,CAAC7D,IAAI,CAAC4D,CAAC,CAAC,EAAEA,CAAC,GAAGA,CAAC,GAAG,KAAK;IACtC,IAAI,iBAAiB,CAAC5D,IAAI,CAAC4D,CAAC,CAAC,EAAE;MAC7B,MAAM,CAACE,CAAC,EAAChB,CAAC,CAAC,GAAGc,CAAC,CAACvE,KAAK,CAAC,GAAG,CAAC;MAAEuE,CAAC,GAAGE,CAAC,GAAG,GAAG,GAAGhB,CAAC,CAACiB,QAAQ,CAAC,CAAC,EAAC,GAAG,CAAC;IAC7D;IACA,OAAOH,CAAC;EACV;EAEA,SAAS3B,cAAcA,CAACnD,KAAK,EAAE;IAC7B,MAAML,MAAM,GAAG,EAAE;IACjBK,KAAK,CAAC+D,OAAO,CAAC7D,IAAI,IAAI;MACpB,IAAIA,IAAI,CAACgF,QAAQ,CAAC,GAAG,CAAC,IAAIhF,IAAI,CAACgF,QAAQ,CAAC,IAAI,CAAC,EAAE;QAC7C,MAAMC,KAAK,GAAGjF,IAAI,CAACK,KAAK,CAAC,GAAG,CAAC;QAC7B,IAAI4E,KAAK,CAACtD,MAAM,IAAI,CAAC,EAAE;UACrB,MAAMuD,KAAK,GAAGD,KAAK,CAAC,CAAC,CAAC,CAACjG,IAAI,CAAC,CAAC,CAAC6F,OAAO,CAAC,IAAI,EAAC,GAAG,CAAC;UAC/C,MAAMJ,KAAK,GAAGQ,KAAK,CAAC3E,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,CAACF,KAAK,CAAC,GAAG,CAAC,CAACM,GAAG,CAAC+D,CAAC,IAAEA,CAAC,CAAC1F,IAAI,CAAC,CAAC,CAAC,CAAC6B,MAAM,CAACC,OAAO,CAAC;UAClF,IAAI2D,KAAK,CAAC9C,MAAM,EAAElC,MAAM,CAAC0F,IAAI,CAAC;YAAED,KAAK;YAAET;UAAM,CAAC,CAAC;QACjD;MACF;IACF,CAAC,CAAC;IACF,OAAO;MAAEhF;IAAO,CAAC;EACnB;EAEA,SAAS4C,sBAAsBA,CAAA,EAAG;IAChC,MAAMgC,CAAC,GAAG,IAAIe,IAAI,CAAC,CAAC;IACpB,MAAMC,GAAG,GAAGhB,CAAC,CAACiB,MAAM,CAAC,CAAC,CAAC,CAAC;IACxB,MAAMC,IAAI,GAAGF,GAAG,KAAK,CAAC,GAAG,CAAC,GAAIA,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAGA,GAAI,CAAC,CAAC;IACzD,MAAMG,MAAM,GAAG,IAAIJ,IAAI,CAACf,CAAC,CAACoB,WAAW,CAAC,CAAC,EAAEpB,CAAC,CAACqB,QAAQ,CAAC,CAAC,EAAErB,CAAC,CAACsB,OAAO,CAAC,CAAC,GAAGJ,IAAI,CAAC;IAC1E,OAAOC,MAAM,CAACI,WAAW,CAAC,CAAC,CAACtF,KAAK,CAAC,CAAC,EAAC,EAAE,CAAC;EACzC;EAEA,SAASe,cAAcA,CAACvB,KAAK,EAAE;IAC7B;IACA,MAAM+F,QAAQ,GAAG;MACfC,IAAI,EAAE,QAAQ;MACdhD,SAAS,EAAET,sBAAsB,CAAC,CAAC;MAAE;MACrCf,KAAK,EAAE;QACLyE,MAAM,EAAE;UAAEC,MAAM,EAAE,CAAC,CAAC;UAAEtE,IAAI,EAAE,CAAC;QAAE,CAAC;QAChCuE,MAAM,EAAE;UAAED,MAAM,EAAE,CAAC,CAAC;UAAEtE,IAAI,EAAE,CAAC;QAAE;MACjC;IACF,CAAC;;IAED;IACAmE,QAAQ,CAACvE,KAAK,CAACyE,MAAM,GAAG;MACtBC,MAAM,EAAE;QAAEpE,SAAS,EAAE,sEAAsE;QAAEC,KAAK,EAAE,0DAA0D;QAAEC,MAAM,EAAE,oBAAoB;QAAEC,MAAM,EAAE;MAAiD,CAAC;MACxPL,IAAI,EAAE;QACJ8D,MAAM,EAAE;UAAE5D,SAAS,EAAE,2FAA2F;UAAEC,KAAK,EAAE,yGAAyG;UAAEC,MAAM,EAAE,iCAAiC;UAAEC,MAAM,EAAE;QAAmG,CAAC;QAC3XmE,OAAO,EAAE;UAAErE,KAAK,EAAE,+EAA+E;UAAEC,MAAM,EAAE,2DAA2D;UAAEC,MAAM,EAAE;QAAoE,CAAC;QACrPoE,SAAS,EAAE;UAAEvE,SAAS,EAAE,sFAAsF;UAAEC,KAAK,EAAE,uFAAuF;UAAEC,MAAM,EAAE,eAAe;UAAEC,MAAM,EAAE;QAA8H,CAAC;QAChXqE,QAAQ,EAAE;UAAExE,SAAS,EAAE,sEAAsE;UAAEC,KAAK,EAAE,6DAA6D;UAAEC,MAAM,EAAE,YAAY;UAAEC,MAAM,EAAE;QAA8F,CAAC;QAClSsE,MAAM,EAAE;UAAEzE,SAAS,EAAE,uEAAuE;UAAEC,KAAK,EAAE,0EAA0E;UAAEC,MAAM,EAAE,8BAA8B;UAAEC,MAAM,EAAE;QAAgH,CAAC;QAClVU,QAAQ,EAAE;UAAEb,SAAS,EAAE,oGAAoG;UAAEC,KAAK,EAAE,8EAA8E;UAAEC,MAAM,EAAE,oCAAoC;UAAEC,MAAM,EAAE;QAAqE,CAAC;QAChVY,MAAM,EAAE;UAAEf,SAAS,EAAE,2EAA2E;UAAEC,KAAK,EAAE,+GAA+G;UAAEC,MAAM,EAAE,UAAU;UAAEC,MAAM,EAAE;QAA2F;MACnV;IACF,CAAC;IAED8D,QAAQ,CAACvE,KAAK,CAAC2E,MAAM,GAAG;MACtBD,MAAM,EAAE;QAAEpE,SAAS,EAAE,uEAAuE;QAAEC,KAAK,EAAE,0DAA0D;QAAEC,MAAM,EAAE,oBAAoB;QAAEC,MAAM,EAAE;MAAiD,CAAC;MACzPL,IAAI,EAAE;QACJ8D,MAAM,EAAE;UAAE5D,SAAS,EAAE,6FAA6F;UAAEC,KAAK,EAAE,iFAAiF;UAAEC,MAAM,EAAE,SAAS;UAAEC,MAAM,EAAE;QAAoH,CAAC;QAC9VmE,OAAO,EAAE;UAAEtE,SAAS,EAAE,sFAAsF;UAAEC,KAAK,EAAE,sFAAsF;UAAEC,MAAM,EAAE,uBAAuB;UAAEC,MAAM,EAAE;QAA0E,CAAC;QACjUoE,SAAS,EAAE;UAAEvE,SAAS,EAAE,4FAA4F;UAAEC,KAAK,EAAE,2FAA2F;UAAEC,MAAM,EAAE,kCAAkC;UAAEC,MAAM,EAAE;QAA4H,CAAC;QAC3YqE,QAAQ,EAAE;UAAExE,SAAS,EAAE,sEAAsE;UAAEC,KAAK,EAAE,+EAA+E;UAAEC,MAAM,EAAE,yBAAyB;UAAEC,MAAM,EAAE;QAA8F,CAAC;QACjUsE,MAAM,EAAE;UAAEzE,SAAS,EAAE,sEAAsE;UAAEC,KAAK,EAAE,gGAAgG;UAAEC,MAAM,EAAE,WAAW;UAAEC,MAAM,EAAE;QAAgH,CAAC;QACpVU,QAAQ,EAAE;UAAEb,SAAS,EAAE,sFAAsF;UAAEC,KAAK,EAAE,0EAA0E;UAAEC,MAAM,EAAE,qCAAqC;UAAEC,MAAM,EAAE;QAAmE,CAAC;QAC7TY,MAAM,EAAE;UAAEf,SAAS,EAAE,sEAAsE;UAAEC,KAAK,EAAE,6FAA6F;UAAEC,MAAM,EAAE,WAAW;UAAEC,MAAM,EAAE;QAAyE;MAC3S;IACF,CAAC;IAED,OAAO8D,QAAQ;EACjB;EAEA,SAASrE,uBAAuBA,CAAC8E,KAAK,EAAE;IACtC,MAAMC,KAAK,GAAG,IAAInB,IAAI,CAAC,CAAC;IACxB,MAAMoB,KAAK,GAAG,IAAIpB,IAAI,CAACkB,KAAK,CAACxD,SAAS,GAAG,WAAW,CAAC;IACrD,MAAM2D,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAAC,CAACJ,KAAK,GAAGC,KAAK,IAAI,QAAQ,CAAC;IACvD,IAAIC,QAAQ,GAAG,CAAC,EAAE,OAAO,IAAI;IAC7B,MAAMG,OAAO,GAAGF,IAAI,CAACC,KAAK,CAACF,QAAQ,GAAG,CAAC,CAAC,GAAG,CAAC;IAC5C,MAAMI,SAAS,GAAGN,KAAK,CAACjB,MAAM,CAAC,CAAC;IAChC,MAAMwB,QAAQ,GAAIF,OAAO,KAAK,CAAC,IAAIA,OAAO,KAAK,CAAC,GAAI,QAAQ,GAAG,QAAQ;IACvE,MAAMG,QAAQ,GAAGT,KAAK,CAAChF,KAAK,CAACwF,QAAQ,CAAC;IACtC,IAAI,CAACC,QAAQ,EAAE,OAAO,IAAI;IAE1B,MAAMC,QAAQ,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,CAAC;IAC/F,MAAMC,OAAO,GAAGD,QAAQ,CAACH,SAAS,CAAC;IACnC,MAAMK,OAAO,GAAGH,QAAQ,CAACrF,IAAI,CAACuF,OAAO,CAAC;IACtC,MAAMjB,MAAM,GAAGe,QAAQ,CAACf,MAAM,IAAI,CAAC,CAAC;IAEpC,OAAO;MACLpE,SAAS,EAAE,CAAAsF,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEtF,SAAS,KAAIoE,MAAM,CAACpE,SAAS,IAAI,EAAE;MACvDC,KAAK,EAAE,CAAAqF,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAErF,KAAK,KAAImE,MAAM,CAACnE,KAAK,IAAI,EAAE;MAC3CC,MAAM,EAAE,CAAAoF,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEpF,MAAM,KAAIkE,MAAM,CAAClE,MAAM,IAAI,EAAE;MAC9CC,MAAM,EAAE,CAAAmF,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEnF,MAAM,KAAIiE,MAAM,CAACjE,MAAM,IAAI;IAC9C,CAAC;EACH;EAEA,oBACE1D,OAAA;IAAK8I,SAAS,EAAC,gBAAgB;IAACC,IAAI,EAAC,QAAQ;IAAC,cAAW,MAAM;IAAAC,QAAA,eAC7DhJ,OAAA;MAAK8I,SAAS,EAAC,OAAO;MAAAE,QAAA,gBACpBhJ,OAAA;QAAK8I,SAAS,EAAC,cAAc;QAAAE,QAAA,gBAC3BhJ,OAAA;UAAAgJ,QAAA,EAAI;QAA0B;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACnCpJ,OAAA;UAAQ8I,SAAS,EAAC,UAAU;UAACO,OAAO,EAAEnJ,OAAQ;UAAC,cAAW,OAAO;UAAA8I,QAAA,EAAC;QAAC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzE,CAAC,eAENpJ,OAAA;QAAK8I,SAAS,EAAC,WAAW;QAAAE,QAAA,gBACxBhJ,OAAA;UAAAgJ,QAAA,eAAGhJ,OAAA;YAAAgJ,QAAA,EAAQ;UAAoB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAC5CpJ,OAAA;UAAAgJ,QAAA,EAAG;QAAiE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACxEpJ,OAAA;UAAIsJ,KAAK,EAAE;YAACC,WAAW,EAAE,MAAM;YAAEC,MAAM,EAAE;UAAO,CAAE;UAAAR,QAAA,gBAChDhJ,OAAA;YAAAgJ,QAAA,EAAI;UAA4B;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACrCpJ,OAAA;YAAAgJ,QAAA,EAAI;UAAyB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAClCpJ,OAAA;YAAAgJ,QAAA,EAAI;UAA0C;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjD,CAAC,eACLpJ,OAAA;UAAK8I,SAAS,EAAC,gBAAgB;UAAAE,QAAA,gBACzChJ,OAAA;YAAAgJ,QAAA,EAAQ;UAAkB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,gCACZ,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,8BACP,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,yBACV,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,2CACa,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,qBAC3B,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,kBAEtB,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACVpJ,OAAA;YAAAgJ,QAAA,EAAQ;UAAe;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,8BACX,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,+CACO,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,+CACL,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,gCACf,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,iCACT,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,gBAE7B,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACVpJ,OAAA;YAAAgJ,QAAA,EAAQ;UAAsB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,4BACpB,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,sBACX,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,qBACN,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,2BACC,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,qCACA,eAAApJ,OAAA;YAAAiJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,qCAEvB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENpJ,OAAA;QAAO8I,SAAS,EAAC,aAAa;QAAAE,QAAA,EAAC;MAAqC;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eAC5EpJ,OAAA;QACE8I,SAAS,EAAC,YAAY;QACtBW,IAAI,EAAE,EAAG;QACTC,WAAW,EAAC,0CAA0C;QACtD9D,KAAK,EAAEtF,OAAQ;QACfqJ,QAAQ,EAAGC,CAAC,IAAKrJ,UAAU,CAACqJ,CAAC,CAACC,MAAM,CAACjE,KAAK;MAAE;QAAAqD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC7C,CAAC,EAED5I,KAAK,iBAAIR,OAAA;QAAK8I,SAAS,EAAC,YAAY;QAAAE,QAAA,EAAExI;MAAK;QAAAyI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAEnDpJ,OAAA;QAAK8I,SAAS,EAAC,YAAY;QAAAE,QAAA,eACzBhJ,OAAA;UACE8I,SAAS,EAAC,UAAU;UACpBO,OAAO,EAAEA,CAAA,KAAM9I,UAAU,CAAC;AACtC;AACA;AACA;AACA;AACA;AACA,4CAA4C,CAAE;UAAAyI,QAAA,EACnC;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAENpJ,OAAA;QAAK8I,SAAS,EAAC,cAAc;QAAAE,QAAA,gBAC3BhJ,OAAA;UAAQ8I,SAAS,EAAC,eAAe;UAACO,OAAO,EAAEnJ,OAAQ;UAAA8I,QAAA,EAAC;QAAM;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACnEpJ,OAAA;UAAQ8I,SAAS,EAAC,aAAa;UAACO,OAAO,EAAE3I,UAAW;UAAAsI,QAAA,EAAC;QAAS;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC/I,EAAA,CAvUIJ,eAAe;AAAA6J,EAAA,GAAf7J,eAAe;AAyUrB,eAAeA,eAAe;AAAC,IAAA6J,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}