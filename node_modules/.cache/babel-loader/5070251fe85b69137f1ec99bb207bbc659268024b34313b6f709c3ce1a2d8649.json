{"ast":null,"code":"import React,{useState}from'react';import AdvancedMenuEditor from'./AdvancedMenuEditor';import BusEditorModal from'./BusEditorModal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function DataUpdateModal(_ref){let{open,onClose,menuValue,busValue,onMenuChange,onBusChange,onImport}=_ref;const[tab,setTab]=useState('menu');const[importText,setImportText]=useState('');if(!open)return null;function handleImport(){try{const parsed=JSON.parse(importText);onImport&&onImport(parsed);setImportText('');}catch(e){alert('Invalid JSON');}}return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Update Data\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tabs\",children:[/*#__PURE__*/_jsx(\"button\",{className:tab==='menu'?'active':'',onClick:()=>setTab('menu'),children:\"Menu\"}),/*#__PURE__*/_jsx(\"button\",{className:tab==='bus'?'active':'',onClick:()=>setTab('bus'),children:\"Buses\"}),/*#__PURE__*/_jsx(\"button\",{className:tab==='import'?'active':'',onClick:()=>setTab('import'),children:\"Import JSON\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tab-body\",children:[tab==='menu'&&/*#__PURE__*/_jsx(AdvancedMenuEditor,{value:menuValue,onChange:onMenuChange}),tab==='bus'&&/*#__PURE__*/_jsx(BusEditorModal,{value:busValue,onChange:onBusChange}),tab==='import'&&/*#__PURE__*/_jsxs(\"div\",{className:\"import-panel\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:importText,onChange:e=>setImportText(e.target.value),placeholder:\"Paste JSON with { \\\"weeks\\\": [...], \\\"categories\\\": {...} }\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleImport,children:\"Import\"})]})]})]})});}","map":{"version":3,"names":["React","useState","AdvancedMenuEditor","BusEditorModal","jsx","_jsx","jsxs","_jsxs","DataUpdateModal","_ref","open","onClose","menuValue","busValue","onMenuChange","onBusChange","onImport","tab","setTab","importText","setImportText","handleImport","parsed","JSON","parse","e","alert","className","children","onClick","value","onChange","target","placeholder"],"sources":["/home/chakri/Documents/Projects/Website/src/components/DataUpdateModal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport AdvancedMenuEditor from './AdvancedMenuEditor';\nimport BusEditorModal from './BusEditorModal';\n\nexport default function DataUpdateModal({ open, onClose, menuValue, busValue, onMenuChange, onBusChange, onImport }) {\n\tconst [tab,setTab] = useState('menu');\n\tconst [importText,setImportText] = useState('');\n\tif(!open) return null;\n\n\tfunction handleImport(){\n\t\ttry {\n\t\t\tconst parsed = JSON.parse(importText);\n\t\t\tonImport && onImport(parsed);\n\t\t\tsetImportText('');\n\t\t} catch (e) {\n\t\t\talert('Invalid JSON');\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"modal-overlay\">\n\t\t\t<div className=\"modal\">\n\t\t\t\t<div className=\"modal-header\">\n\t\t\t\t\t<h2>Update Data</h2>\n\t\t\t\t\t<button onClick={onClose}>âœ•</button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"tabs\">\n\t\t\t\t\t<button className={tab==='menu'? 'active':''} onClick={()=>setTab('menu')}>Menu</button>\n\t\t\t\t\t<button className={tab==='bus'? 'active':''} onClick={()=>setTab('bus')}>Buses</button>\n\t\t\t\t\t<button className={tab==='import'? 'active':''} onClick={()=>setTab('import')}>Import JSON</button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"tab-body\">\n\t\t\t\t\t{tab==='menu' && <AdvancedMenuEditor value={menuValue} onChange={onMenuChange} />}\n\t\t\t\t\t{tab==='bus' && <BusEditorModal value={busValue} onChange={onBusChange} />}\n\t\t\t\t\t{tab==='import' && (\n\t\t\t\t\t\t<div className=\"import-panel\">\n\t\t\t\t\t\t\t<textarea value={importText} onChange={e=>setImportText(e.target.value)} placeholder='Paste JSON with { \"weeks\": [...], \"categories\": {...} }'/>\n\t\t\t\t\t\t\t<button onClick={handleImport}>Import</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}