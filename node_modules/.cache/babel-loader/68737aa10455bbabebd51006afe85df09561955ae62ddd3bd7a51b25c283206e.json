{"ast":null,"code":"var _jsxFileName = \"/home/chakri/Documents/Projects/Website/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './App.css';\nimport MessMenu from './components/MessMenu';\nimport CampusBus from './components/CampusBus';\nimport DataUpdateModal from './components/DataUpdateModal';\nimport { loadData, saveData } from './utils/storage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nasync function fetchJson(path) {\n  try {\n    const r = await fetch(path);\n    if (!r.ok) throw new Error(path);\n    return r.json();\n  } catch {\n    return null;\n  }\n}\nexport default function App() {\n  _s();\n  const [menu, setMenu] = useState(null);\n  const [buses, setBuses] = useState(null);\n  const [open, setOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const stored = loadData();\n    if (stored.weeks || stored.menuCycle) setMenu(stored.menuCycle || {\n      weeks: stored.weeks\n    });\n    if (stored.busSchedule || stored.categories) setBuses(stored.busSchedule || {\n      categories: stored.categories,\n      specials: stored.specials || []\n    });\n    Promise.all([!stored.menuCycle && fetchJson('/data/menuCycle.json'), !stored.busSchedule && fetchJson('/data/busSchedule.json')]).then(([mc, bs]) => {\n      if (mc && !menu) setMenu(mc);\n      if (bs && !buses) setBuses(bs);\n    }).finally(() => setLoading(false));\n  }, []);\n  useEffect(() => {\n    saveData({\n      menuCycle: menu,\n      busSchedule: buses\n    });\n  }, [menu, buses]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-shell\",\n    children: /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Loading\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 48\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-shell\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"top-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Campus Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setOpen(true),\n          children: \"Update Data\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"grid-2\",\n      children: [/*#__PURE__*/_jsxDEV(MessMenu, {\n        data: menu\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(CampusBus, {\n        data: buses\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"note\",\n      children: \"Edits are stored only in this browser (localStorage). Export/backup feature can be added later.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(DataUpdateModal, {\n      open: open,\n      onClose: () => setOpen(false),\n      menuValue: menu,\n      busValue: buses,\n      onMenuChange: v => setMenu(v),\n      onBusChange: v => setBuses(v),\n      onImport: v => {\n        if (v.weeks) setMenu({\n          weeks: v.weeks\n        });\n        if (v.categories) setBuses({\n          categories: v.categories,\n          specials: v.specials || []\n        });\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 3\n  }, this);\n}\n_s(App, \"3cuZfdojgAPR2nUrhnNDhF2wYsg=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","MessMenu","CampusBus","DataUpdateModal","loadData","saveData","jsxDEV","_jsxDEV","fetchJson","path","r","fetch","ok","Error","json","App","_s","menu","setMenu","buses","setBuses","open","setOpen","loading","setLoading","stored","weeks","menuCycle","busSchedule","categories","specials","Promise","all","then","mc","bs","finally","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","data","onClose","menuValue","busValue","onMenuChange","v","onBusChange","onImport","_c","$RefreshReg$"],"sources":["/home/chakri/Documents/Projects/Website/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './App.css';\nimport MessMenu from './components/MessMenu';\nimport CampusBus from './components/CampusBus';\nimport DataUpdateModal from './components/DataUpdateModal';\nimport { loadData, saveData } from './utils/storage';\n\nasync function fetchJson(path) { try { const r = await fetch(path); if(!r.ok) throw new Error(path); return r.json(); } catch { return null; } }\n\nexport default function App(){\n\tconst [menu,setMenu] = useState(null);\n\tconst [buses,setBuses] = useState(null);\n\tconst [open,setOpen] = useState(false);\n\tconst [loading,setLoading] = useState(true);\n\n\tuseEffect(()=>{\n\t\tconst stored = loadData();\n\t\tif(stored.weeks || stored.menuCycle) setMenu(stored.menuCycle || { weeks: stored.weeks });\n\t\tif(stored.busSchedule || stored.categories) setBuses(stored.busSchedule || { categories: stored.categories, specials: stored.specials||[] });\n\t\tPromise.all([\n\t\t\t!stored.menuCycle && fetchJson('/data/menuCycle.json'),\n\t\t\t!stored.busSchedule && fetchJson('/data/busSchedule.json')\n\t\t]).then(([mc,bs])=>{\n\t\t\tif(mc && !menu) setMenu(mc);\n\t\t\tif(bs && !buses) setBuses(bs);\n\t\t}).finally(()=> setLoading(false));\n\t},[]);\n\n\tuseEffect(()=>{ saveData({ menuCycle: menu, busSchedule: buses }); },[menu,buses]);\n\n\tif(loading) return <div className=\"app-shell\"><h2>Loadingâ€¦</h2></div>;\n\n\treturn (\n\t\t<div className=\"app-shell\">\n\t\t\t<header className=\"top-bar\">\n\t\t\t\t<h1>Campus Dashboard</h1>\n\t\t\t\t<div className=\"actions\">\n\t\t\t\t\t<button onClick={()=>setOpen(true)}>Update Data</button>\n\t\t\t\t</div>\n\t\t\t</header>\n\t\t\t<main className=\"grid-2\">\n\t\t\t\t<MessMenu data={menu} />\n\t\t\t\t<CampusBus data={buses} />\n\t\t\t</main>\n\t\t\t<p className=\"note\">Edits are stored only in this browser (localStorage). Export/backup feature can be added later.</p>\n\t\t\t<DataUpdateModal\n\t\t\t\topen={open}\n\t\t\t\tonClose={()=>setOpen(false)}\n\t\t\t\tmenuValue={menu}\n\t\t\t\tbusValue={buses}\n\t\t\t\tonMenuChange={(v)=> setMenu(v)}\n\t\t\t\tonBusChange={(v)=> setBuses(v)}\n\t\t\t\tonImport={(v)=> {\n\t\t\t\t\tif(v.weeks) setMenu({ weeks: v.weeks });\n\t\t\t\t\tif(v.categories) setBuses({ categories: v.categories, specials: v.specials||[] });\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}